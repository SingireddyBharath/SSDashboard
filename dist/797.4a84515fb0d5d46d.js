(self.webpackChunkSSDashboard=self.webpackChunkSSDashboard||[]).push([[797],{7797:(Y,t,o)=>{"use strict";o.r(t),o.d(t,{AdminModule:()=>ce});var r=o(6814),n=o(1430);function y(z,ee,X,L,W,re,fe){try{var H=z[re](fe),I=H.value}catch(N){return void X(N)}H.done?ee(I):Promise.resolve(I).then(L,W)}function h(z){return function(){var ee=this,X=arguments;return new Promise(function(L,W){var re=z.apply(ee,X);function fe(I){y(re,L,W,fe,H,"next",I)}function H(I){y(re,L,W,fe,H,"throw",I)}fe(void 0)})}}var b=o(4258),i=o.n(b);const m={type:"object",properties:{indexName:{type:"string"},properties:{type:"object",properties:{apiKey:{type:"string"},env:{type:"string"},accountName:{type:"string"},fetchFromPIM:{type:"boolean"},llmConfig:{type:"object",properties:{embeddingModel:{type:"object",properties:{isAzureOpenAI:{type:"boolean"},model:{type:"string"},"api-version":{type:"string"}},required:["isAzureOpenAI","model","api-version"]},consolidatedQueryModel:{type:"object",properties:{isAzureOpenAI:{type:"boolean"},model:{type:"string"},"api-version":{type:"string"},temperature:{type:"number"}},required:["isAzureOpenAI","model","api-version","temperature"]},finetunedModel:{type:"object",properties:{url:{type:"string"},apiKey:{type:"string"},isAzureOpenAI:{type:"boolean"},model:{type:"string"},temperature:{type:"number"},"api-version":{type:"string"}},required:["url","apiKey","isAzureOpenAI","model","temperature","api-version"]},followupModel:{type:"object",properties:{isAzureOpenAI:{type:"boolean"},model:{type:"string"},"api-version":{type:"string"},temperature:{type:"number"}},required:["isAzureOpenAI","model","api-version","temperature"]},presentationModel:{type:"object",properties:{isAzureOpenAI:{type:"boolean"},model:{type:"string"},"api-version":{type:"string"},temperature:{type:"number"}},required:["isAzureOpenAI","model","api-version","temperature"]},retryPresentationModel:{type:"object",properties:{url:{type:"string"},apiKey:{type:"string"},isAzureOpenAI:{type:"boolean"},model:{type:"string"},"api-version":{type:"string"},temperature:{type:"number"}},required:["url","apiKey","isAzureOpenAI","model","api-version","temperature"]}},required:["embeddingModel","consolidatedQueryModel"]},topK:{type:"number"},vectorSearchIgnorableKeys:{type:"array",items:{type:"string"}},namespaces:{type:"array",items:{type:"string"}}},required:["apiKey","env","accountName","fetchFromPIM","llmConfig","topK","namespaces"]},prompts:{type:"object",properties:{CX_INIT_PROMPT:{type:"string"},CONSOLIDATE_QUERY_PROMPT:{type:"string"},SKU_SPECIFIC_PROMPT:{type:"string"},FOLLOW_UP_QUERY_PROMPT:{type:"string"}},required:["CX_INIT_PROMPT","CONSOLIDATE_QUERY_PROMPT"]}},required:["indexName","properties","prompts"]},s={indexName:"pinecone index name",properties:{apiKey:"your pinecone api key",env:"pinecone environment - Example (us-east-1-aws)",accountName:" pinecone account name",fetchFromPIM:!0,llmConfig:{embeddingModel:{isAzureOpenAI:!0,model:" embedding model name","api-version":"embedding model version - Example (2023-03-15-preview)"},consolidatedQueryModel:{isAzureOpenAI:!0,model:"consolidatedQueryModel name","api-version":"conslatedQueryModel version - Example (2023-03-15-preview)",temperature:.4},finetunedModel:{url:"finetune API endpoint",apiKey:"finetune model API key",isAzureOpenAI:!0,model:"finetune model name",temperature:.4,"api-version":"finetune model version - Example (2023-03-15-preview)"},followupModel:{isAzureOpenAI:!0,model:"followup model name","api-version":"followup api version",temperature:.4},presentationModel:{isAzureOpenAI:!0,model:"presentation model name","api-version":"presentation api version",temperature:.4},retryPresentationModel:{url:"retry presentation API endpoint",apiKey:"retry presentation API key",isAzureOpenAI:!0,model:"retry presentation model name","api-version":"retry presentation model version",temperature:.3}},topK:7,vectorSearchIgnorableKeys:["key 1","key 2"],namespaces:["namespace 1","namespace 2","namespace 3"]},prompts:{CX_INIT_PROMPT:"write your init prompt here",CONSOLIDATE_QUERY_PROMPT:"write your consolidation prompt here",SKU_SPECIFIC_PROMPT:"write your sku specific prompt here (optional)",FOLLOW_UP_QUERY_PROMPT:"write your follow up prompt here (optional)"}};var e=o(5879),_=o(586);function w(z,ee){if(1&z){const X=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"h2"),e._uU(3,"Are you sure you want to log out?"),e.qZA(),e.TgZ(4,"p"),e._uU(5,'Click "Yes" to proceed with logout or "No" to cancel.'),e.qZA(),e.TgZ(6,"button",8),e.NdJ("click",function(){e.CHM(X);const W=e.oxw();return e.KtG(W.logOut())}),e._uU(7,"Yes"),e.qZA(),e.TgZ(8,"button",9),e.NdJ("click",function(){e.CHM(X);const W=e.oxw();return e.KtG(W.showCustomWindow=!1)}),e._uU(9," No "),e.qZA()()()}}let O=(()=>{var z;class ee{constructor(L,W){this.router=L,this.appService=W,this.showCustomWindow=!1}logOut(){this.showCustomWindow=!0,this.appService.setAuth(!1),this.router.navigate(["/login"])}}return(z=ee).\u0275fac=function(L){return new(L||z)(e.Y36(n.F0),e.Y36(_.z))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-header"]],decls:9,vars:1,consts:[["ng-controller","HeaderController as headerCtrl",1,"header"],["width","150px","height","50px","src","https://kore.ai/wp-content/uploads/2023/02/RetailAssist-Logo.svg"],[1,"user-icon"],[3,"click"],[1,"fas","fa-sign-out-alt"],["class","custom-window-background",4,"ngIf"],[1,"custom-window-background"],[1,"custom-window"],[1,"logout-button",3,"click"],[1,"cancel-button",3,"click"]],template:function(L,W){1&L&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h1"),e._uU(3,"SS Dashboard"),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return W.showCustomWindow=!0}),e._uU(6," Logout "),e._UZ(7,"i",4),e.qZA()(),e.YNc(8,w,10,0,"div",5),e.qZA()),2&L&&(e.xp6(8),e.Q6J("ngIf",W.showCustomWindow))},dependencies:[r.O5],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;background-color:#f2f2f2}h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}button[_ngcontent-%COMP%]{padding:8px 16px;font-size:16px;border-radius:4px;border:none;background-color:#007bff;color:#fff;cursor:pointer}.custom-window-background[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;justify-content:center;align-items:center;z-index:9999}.custom-window[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;text-align:center}.custom-window[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:24px;margin-bottom:10px}.custom-window[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px;margin-bottom:20px}.custom-window[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8}.logout-button[_ngcontent-%COMP%]{background-color:green;color:#fff;margin-right:20px}.cancel-button[_ngcontent-%COMP%]{background-color:red;color:#fff}"]}),ee})();function T(z,ee){if(1&z){const X=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"button",5),e.NdJ("click",function(){const re=e.CHM(X).$implicit,fe=e.oxw(2);return e.KtG(fe.exportIndex(re))}),e._UZ(3,"img",6),e.qZA(),e.TgZ(4,"h2"),e._uU(5),e.qZA(),e.TgZ(6,"span",7),e._uU(7,"Account Name : "),e.qZA(),e.TgZ(8,"span",8),e._uU(9),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"span",7),e._uU(12,"Environment : "),e.qZA(),e.TgZ(13,"span",8),e._uU(14),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"span",7),e._uU(17,"TopK : "),e.qZA(),e.TgZ(18,"span",8),e._uU(19),e.qZA()(),e.BQk()}if(2&z){const X=ee.$implicit,L=e.oxw(2);e.xp6(5),e.Oqu(X),e.xp6(4),e.Oqu(L.trimAccountName(L.availableIndexes[X].accountName)),e.xp6(5),e.Oqu(L.availableIndexes[X].env),e.xp6(5),e.Oqu(L.availableIndexes[X].topK||"NA")}}function A(z,ee){if(1&z){const X=e.EpF();e.ynx(0),e.TgZ(1,"button",1),e.NdJ("click",function(){e.CHM(X);const W=e.oxw();return e.KtG(W.createIndex())}),e._uU(2," Create New Index "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,T,20,4,"ng-container",3),e.qZA(),e.BQk()}if(2&z){const X=e.oxw();e.xp6(4),e.Q6J("ngForOf",X.indexNames)}}function k(z,ee){if(1&z){const X=e.EpF();e.ynx(0),e.TgZ(1,"button",9),e.NdJ("click",function(){e.CHM(X);const W=e.oxw();return e.KtG(W.backToHome())}),e._UZ(2,"i",10),e._uU(3,"Go Back "),e.qZA(),e.TgZ(4,"h2"),e._uU(5),e.qZA(),e.BQk()}if(2&z){const X=e.oxw();e.xp6(5),e.Oqu(X.currentEditPage)}}function u(z,ee){if(1&z&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&z){const X=e.oxw(3);e.xp6(1),e.hij(" ",X.uploadedFileName," ")}}function l(z,ee){1&z&&(e.TgZ(0,"div",28),e._uU(1,"\xa0"),e.qZA())}function S(z,ee){if(1&z&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&z){const X=e.oxw(3);e.xp6(1),e.hij(" ",X.errorMessage||""," ")}}function d(z,ee){1&z&&(e.TgZ(0,"div",30),e._uU(1,"\xa0"),e.qZA())}function v(z,ee){if(1&z){const X=e.EpF();e.TgZ(0,"div",31)(1,"button",32),e.NdJ("click",function(){e.CHM(X);const W=e.oxw(3);return e.KtG(W.confirmUpload())}),e._uU(2,"Create"),e.qZA(),e.TgZ(3,"button",33),e.NdJ("click",function(){e.CHM(X);const W=e.oxw(3);return e.KtG(W.cancelUpload())}),e._uU(4,"Cancel"),e.qZA()()}}function C(z,ee){if(1&z){const X=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"h4"),e._uU(3,"Drag & Drop file to upload"),e.qZA()(),e.TgZ(4,"div",15)(5,"img",16,17),e.NdJ("click",function(){e.CHM(X);const W=e.MAs(8);return e.KtG(W.click())}),e.qZA(),e.TgZ(7,"input",18,19),e.NdJ("change",function(W){e.CHM(X);const re=e.oxw(2);return e.KtG(re.handleFileInput(W))}),e.qZA()(),e.YNc(9,u,2,1,"div",20),e.YNc(10,l,2,0,"ng-template",null,21,e.W1O),e.YNc(12,S,2,1,"div",22),e.YNc(13,d,2,0,"ng-template",null,23,e.W1O),e.TgZ(15,"div",24)(16,"span"),e._uU(17,"Click here to download sample file"),e.qZA(),e.TgZ(18,"button",25),e.NdJ("click",function(){e.CHM(X);const W=e.oxw(2);return e.KtG(W.downloadSampleJson())}),e._uU(19," sample.json "),e.qZA()(),e.YNc(20,v,5,0,"div",26),e.qZA()}if(2&z){const X=e.MAs(11),L=e.MAs(14),W=e.oxw(2);e.xp6(9),e.Q6J("ngIf",W.uploadedFileName)("ngIfElse",X),e.xp6(3),e.Q6J("ngIf",W.errorMessage)("ngIfElse",L),e.xp6(8),e.Q6J("ngIf",W.uploadedFile)}}function g(z,ee){if(1&z){const X=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"h2"),e._uU(3,"Index created Successfully"),e.qZA(),e.TgZ(4,"button",36),e.NdJ("click",function(){e.CHM(X);const W=e.oxw(2);return e.KtG(W.backToHome())}),e._uU(5,"Home"),e.qZA()()()}}function p(z,ee){if(1&z){const X=e.EpF();e.ynx(0),e.TgZ(1,"button",9),e.NdJ("click",function(){e.CHM(X);const W=e.oxw();return e.KtG(W.backToHome())}),e._UZ(2,"i",10),e._uU(3,"Go Back "),e.qZA(),e.YNc(4,C,21,5,"div",11),e.YNc(5,g,6,0,"div",12),e.BQk()}if(2&z){const X=e.oxw();e.xp6(4),e.Q6J("ngIf",!X.showSuccessWindow),e.xp6(1),e.Q6J("ngIf",X.showSuccessWindow)}}const P=new(i()),K=[{path:"",component:(()=>{var z;class ee{constructor(L,W){this.appService=L,this.router=W,this.sampleJson=JSON.stringify(s),this.showSuccessWindow=!1,this.mainPage=!0,this.editPage=!1,this.createPage=!1,this.showCelebration=!1,this.currentEditPage=""}ngOnInit(){this.getData()}handleFileInput(L){const W=L.target.files[0];if(this.uploadedFile=L.target.files[0],"application/json"!==W.type)this.errorMessage="Only JSON files are supported.",this.file=null,this.uploadedFileName=W.name,this.uploadedFile=null;else{this.errorMessage=null;const re=new FileReader;re.onload=()=>{const fe=re.result;if(!P.compile(m)(JSON.parse(fe))){const N=P.errors;if(null!==N){const a=N.map(f=>f.message);this.errorMessage=`Invalid JSON format! Please correct the following errors:\n${a.join("\n")}`}else this.errorMessage="Invalid data in the file. Please provide valid data.";return this.file=null,this.uploadedFile=null,void(this.uploadedFileName=W.name)}this.file=JSON.parse(fe),this.uploadedFileName=W.name},re.readAsText(W)}}confirmUpload(){var L=this;return h(function*(){console.log(L.file,typeof L.file);const W=L.file.indexName,re=L.data[0];re.indexes[W]=L.file.properties,re.prompts[W]=L.file.prompts;try{JSON.stringify(L.file)!==JSON.stringify(L.sampleJson)&&L.appService.createIndex(re).toPromise(),console.log(re),L.showSuccessWindow=!0,L.showCelebration=!0}catch{console.log("error in creating the index")}})()}cancelUpload(){this.uploadedFile=null,this.uploadedFileName=null,this.errorMessage=null}getData(){var L=this;return h(function*(){try{L.data=yield L.appService.getData().toPromise(),console.log(L.data),L.availableIndexes=L.data[0].indexes,L.availablePrompts=L.data[0].prompts,L.indexNames=Object.keys(L.availableIndexes)}catch(W){console.error(W)}})()}trimAccountName(L){const W=L.indexOf("@");let re=-1!==W?L.slice(0,W):L;return re.length>20&&(re=re.slice(0,20)+"..."),re.replace(/\./g," ")}exportIndex(L){const fe=JSON.stringify({indexName:L,properties:this.availableIndexes[L],prompts:this.availablePrompts[L]}),H="data:application/json;base64,"+btoa(fe),I=document.createElement("a");I.href=H,I.download=L+".json",document.body.appendChild(I),I.click()}editIndex(L){console.log(L),this.currentEditPage=L,this.editPage=!0,this.createPage=!1,this.mainPage=!1}backToHome(){this.getData(),this.showSuccessWindow=!1,this.uploadedFileName="",this.errorMessage="",this.uploadedFile=null,this.file=null,this.mainPage=!0,this.editPage=!1,this.createPage=!1}createIndex(){this.createPage=!0,this.mainPage=!1,this.editPage=!1}onFileSelect(L){this.file=L.files[0]}downloadSampleJson(){const L="data:application/json;base64,"+btoa(this.sampleJson),W=document.createElement("a");W.href=L,W.download="sample.json",document.body.appendChild(W),W.click()}}return(z=ee).\u0275fac=function(L){return new(L||z)(e.Y36(_.z),e.Y36(n.F0))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-home"]],decls:4,vars:3,consts:[[4,"ngIf"],[1,"createIndexBtn",3,"click"],[1,"pimContainer"],[4,"ngFor","ngForOf"],[1,"pim-index-div"],[1,"upload-btn",3,"click"],["src","assets/upload.png",1,"upload-img"],[1,"key"],[1,"value"],[1,"backToHome-btn",3,"click"],[1,"fas","fa-chevron-left",2,"margin-right","5px"],["class","frame",4,"ngIf"],["class","custom-window-background",4,"ngIf"],[1,"frame"],[1,"title"],[1,"dropzone"],["src","http://100dayscss.com/codepen/upload.svg",1,"upload-icon",3,"click"],["uploadImage",""],["type","file","accept",".json",1,"upload-input",3,"change"],["fileInput",""],["class","uploadedFileName",4,"ngIf","ngIfElse"],["noValue",""],["class","errorMsg","style","color: red",4,"ngIf","ngIfElse"],["noErrorMessage",""],[1,"sampleJson"],[1,"download-btn",3,"click"],["class","actionButtonsContainer",4,"ngIf"],[1,"uploadedFileName"],[1,"uploadedFileName",2,"visibility","hidden"],[1,"errorMsg",2,"color","red"],[1,"errorMsg",2,"visibility","hidden"],[1,"actionButtonsContainer"],[1,"btn","create-btn",3,"click"],[1,"btn","cancel-btn",3,"click"],[1,"custom-window-background"],[1,"custom-window"],[1,"hopme-btn",3,"click"]],template:function(L,W){1&L&&(e._UZ(0,"app-header"),e.YNc(1,A,5,1,"ng-container",0),e.YNc(2,k,6,1,"ng-container",0),e.YNc(3,p,6,2,"ng-container",0)),2&L&&(e.xp6(1),e.Q6J("ngIf",W.mainPage),e.xp6(1),e.Q6J("ngIf",W.editPage),e.xp6(1),e.Q6J("ngIf",W.createPage))},dependencies:[r.sg,r.O5,O],styles:[".pimContainer[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;justify-content:center;margin-top:5vw}.pim-index-div[_ngcontent-%COMP%]{position:relative;flex-basis:calc(25% - 10px);box-sizing:border-box;padding:1vw;margin:2vw;border:.5px solid #3a3939;border-radius:10px;background-color:#dbefcc}.upload-img[_ngcontent-%COMP%]{width:15px;height:12px}.upload-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#dbefcc;cursor:pointer;border:none}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#fff;transform:scale(1.1);border-radius:10px}@media (max-width: 768px){.pim-index-div[_ngcontent-%COMP%]{flex-basis:calc(50% - 10px)}}@media (max-width: 480px){.pim-index-div[_ngcontent-%COMP%]{flex-basis:100%}}.createIndexBtn[_ngcontent-%COMP%]{background-color:green;color:#fff;padding:10px 20px;border-radius:5px;width:150px;cursor:pointer;float:right;margin:10px;border:none}@media (max-width: 768px){.createIndexBtn[_ngcontent-%COMP%]{margin-top:10px}}.key[_ngcontent-%COMP%]{font-weight:500}.backToHome-btn[_ngcontent-%COMP%]{background-color:#fcf9f8;border:none;color:#070707;padding:8px 16px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;transition-duration:.4s;cursor:pointer;border-radius:4px}.section[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;margin-bottom:20px}.update-all-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;cursor:pointer;margin-top:20px}.update-all-button[_ngcontent-%COMP%]:hover{background-color:#45a049}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.frame[_ngcontent-%COMP%]{border-radius:10px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:500px;height:350px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:30px;text-align:center;border-bottom:1px solid black}.dropzone[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto;border:1px dashed black;width:180px;height:100px;cursor:pointer;border-radius:10px}.upload-input[_ngcontent-%COMP%]{width:180px;height:100px;opacity:0;position:absolute;cursor:pointer}.upload-icon[_ngcontent-%COMP%]{cursor:pointer}.uploadedFileName[_ngcontent-%COMP%]{margin-top:5px}.uploadedFileName[_ngcontent-%COMP%], .errorMsg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto auto 10px;width:100%}.sampleJson[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto auto 10px}.actionButtonsContainer[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center}.download-btn[_ngcontent-%COMP%]{border:none;text-decoration:underline;color:#00f;cursor:pointer;margin-left:0;background-color:#fff}.create-btn[_ngcontent-%COMP%]{background-color:#45a049;margin-right:20px}.cancel-btn[_ngcontent-%COMP%]{background-color:#ef3b3b;margin-left:20px}.btn[_ngcontent-%COMP%]{border:none;color:#fff;padding:5px 10px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;border-radius:10px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{background-color:#454b46}.custom-window-background[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;justify-content:center;align-items:center;z-index:9999}.custom-window[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;text-align:center}.custom-window[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:24px;margin-bottom:10px}.custom-window[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8}.hopme-btn[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;padding:10px 15px;border:none;border-radius:10px;background-color:#4caf50;color:#fff}"]}),ee})()}];let Q=(()=>{var z;class ee{}return(z=ee).\u0275fac=function(L){return new(L||z)},z.\u0275mod=e.oAB({type:z}),z.\u0275inj=e.cJS({imports:[n.Bz.forChild(K),n.Bz]}),ee})();var B=o(95);let ce=(()=>{var z;class ee{}return(z=ee).\u0275fac=function(L){return new(L||z)},z.\u0275mod=e.oAB({type:z}),z.\u0275inj=e.cJS({imports:[r.ez,Q,B.u5]}),ee})()},4258:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=o(8385),n=o(8677),y=o(6081),h=o(98),b=["/properties"],i="http://json-schema.org/draft-07/schema";class m extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(T=>this.addVocabulary(T)),this.opts.discriminator&&this.addKeyword(y.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const T=this.opts.$data?this.$dataMetaSchema(h,b):h;this.addMetaSchema(T,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}Y.exports=t=m,Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var s=o(2175);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return s.KeywordCxt}});var e=o(117);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});var _=o(110);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return _.default}});var w=o(5695);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return w.default}})},2276:(Y,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class o{}t._CodeOrName=o,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends o{constructor(l){if(super(),!t.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends o{constructor(l){super(),this._items="string"==typeof l?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return""===l||'""'===l}get str(){var l;return null!==(l=this._str)&&void 0!==l?l:this._str=this._items.reduce((S,d)=>`${S}${d}`,"")}get names(){var l;return null!==(l=this._names)&&void 0!==l?l:this._names=this._items.reduce((S,d)=>(d instanceof r&&(S[d.str]=(S[d.str]||0)+1),S),{})}}function y(u,...l){const S=[u[0]];let d=0;for(;d<l.length;)i(S,l[d]),S.push(u[++d]);return new n(S)}t._Code=n,t.nil=new n(""),t._=y;const h=new n("+");function b(u,...l){const S=[O(u[0])];let d=0;for(;d<l.length;)S.push(h),i(S,l[d]),S.push(h,O(u[++d]));return function m(u){let l=1;for(;l<u.length-1;){if(u[l]===h){const S=s(u[l-1],u[l+1]);if(void 0!==S){u.splice(l-1,3,S);continue}u[l++]="+"}l++}}(S),new n(S)}function i(u,l){l instanceof n?u.push(...l._items):u.push(l instanceof r?l:function _(u){return"number"==typeof u||"boolean"==typeof u||null===u?u:O(Array.isArray(u)?u.join(","):u)}(l))}function s(u,l){return'""'===l?u:'""'===u?l:"string"==typeof u?l instanceof r||'"'!==u[u.length-1]?void 0:"string"!=typeof l?`${u.slice(0,-1)}${l}"`:'"'===l[0]?u.slice(0,-1)+l.slice(1):void 0:"string"!=typeof l||'"'!==l[0]||u instanceof r?void 0:`"${u}${l.slice(1)}`}function O(u){return JSON.stringify(u).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=b,t.addCodeArg=i,t.strConcat=function e(u,l){return l.emptyStr()?u:u.emptyStr()?l:b`${u}${l}`},t.stringify=function w(u){return new n(O(u))},t.safeStringify=O,t.getProperty=function T(u){return"string"==typeof u&&t.IDENTIFIER.test(u)?new n(`.${u}`):y`[${u}]`},t.getEsmExportName=function A(u){if("string"==typeof u&&t.IDENTIFIER.test(u))return new n(`${u}`);throw new Error(`CodeGen: invalid export name: ${u}, use explicit $id name mapping`)},t.regexpCode=function k(u){return new n(u.toString())}},117:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=o(2276),n=o(4055);var y=o(2276);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return y.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return y.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return y.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}});var h=o(4055);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return h.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return h.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return h.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return h.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class b{optimizeNodes(){return this}optimizeNames(a,f){return this}}class i extends b{constructor(a,f,M){super(),this.varKind=a,this.name=f,this.rhs=M}render({es5:a,_n:f}){return`${a?n.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+f}optimizeNames(a,f){if(a[this.name.str])return this.rhs&&(this.rhs=z(this.rhs,a,f)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class m extends b{constructor(a,f,M){super(),this.lhs=a,this.rhs=f,this.sideEffects=M}render({_n:a}){return`${this.lhs} = ${this.rhs};`+a}optimizeNames(a,f){if(!(this.lhs instanceof r.Name)||a[this.lhs.str]||this.sideEffects)return this.rhs=z(this.rhs,a,f),this}get names(){return ce(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class s extends m{constructor(a,f,M,J){super(a,M,J),this.op=f}render({_n:a}){return`${this.lhs} ${this.op}= ${this.rhs};`+a}}class e extends b{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`${this.label}:`+a}}class _ extends b{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`break${this.label?` ${this.label}`:""};`+a}}class w extends b{constructor(a){super(),this.error=a}render({_n:a}){return`throw ${this.error};`+a}get names(){return this.error.names}}class O extends b{constructor(a){super(),this.code=a}render({_n:a}){return`${this.code};`+a}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(a,f){return this.code=z(this.code,a,f),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class T extends b{constructor(a=[]){super(),this.nodes=a}render(a){return this.nodes.reduce((f,M)=>f+M.render(a),"")}optimizeNodes(){const{nodes:a}=this;let f=a.length;for(;f--;){const M=a[f].optimizeNodes();Array.isArray(M)?a.splice(f,1,...M):M?a[f]=M:a.splice(f,1)}return a.length>0?this:void 0}optimizeNames(a,f){const{nodes:M}=this;let J=M.length;for(;J--;){const x=M[J];x.optimizeNames(a,f)||(ee(a,x.names),M.splice(J,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((a,f)=>B(a,f.names),{})}}class A extends T{render(a){return"{"+a._n+super.render(a)+"}"+a._n}}class k extends T{}let u=(()=>{class N extends A{}return N.kind="else",N})(),l=(()=>{class N extends A{constructor(f,M){super(M),this.condition=f}render(f){let M=`if(${this.condition})`+super.render(f);return this.else&&(M+="else "+this.else.render(f)),M}optimizeNodes(){super.optimizeNodes();const f=this.condition;if(!0===f)return this.nodes;let M=this.else;if(M){const J=M.optimizeNodes();M=this.else=Array.isArray(J)?new u(J):J}return M?!1===f?M instanceof N?M:M.nodes:this.nodes.length?this:new N(X(f),M instanceof N?[M]:M.nodes):!1!==f&&this.nodes.length?this:void 0}optimizeNames(f,M){var J;if(this.else=null===(J=this.else)||void 0===J?void 0:J.optimizeNames(f,M),super.optimizeNames(f,M)||this.else)return this.condition=z(this.condition,f,M),this}get names(){const f=super.names;return ce(f,this.condition),this.else&&B(f,this.else.names),f}}return N.kind="if",N})(),S=(()=>{class N extends A{}return N.kind="for",N})();class d extends S{constructor(a){super(),this.iteration=a}render(a){return`for(${this.iteration})`+super.render(a)}optimizeNames(a,f){if(super.optimizeNames(a,f))return this.iteration=z(this.iteration,a,f),this}get names(){return B(super.names,this.iteration.names)}}class v extends S{constructor(a,f,M,J){super(),this.varKind=a,this.name=f,this.from=M,this.to=J}render(a){const f=a.es5?n.varKinds.var:this.varKind,{name:M,from:J,to:x}=this;return`for(${f} ${M}=${J}; ${M}<${x}; ${M}++)`+super.render(a)}get names(){const a=ce(super.names,this.from);return ce(a,this.to)}}class C extends S{constructor(a,f,M,J){super(),this.loop=a,this.varKind=f,this.name=M,this.iterable=J}render(a){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(a)}optimizeNames(a,f){if(super.optimizeNames(a,f))return this.iterable=z(this.iterable,a,f),this}get names(){return B(super.names,this.iterable.names)}}let g=(()=>{class N extends A{constructor(f,M,J){super(),this.name=f,this.args=M,this.async=J}render(f){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(f)}}return N.kind="func",N})(),p=(()=>{class N extends T{render(f){return"return "+super.render(f)}}return N.kind="return",N})();class P extends A{render(a){let f="try"+super.render(a);return this.catch&&(f+=this.catch.render(a)),this.finally&&(f+=this.finally.render(a)),f}optimizeNodes(){var a,f;return super.optimizeNodes(),null===(a=this.catch)||void 0===a||a.optimizeNodes(),null===(f=this.finally)||void 0===f||f.optimizeNodes(),this}optimizeNames(a,f){var M,J;return super.optimizeNames(a,f),null===(M=this.catch)||void 0===M||M.optimizeNames(a,f),null===(J=this.finally)||void 0===J||J.optimizeNames(a,f),this}get names(){const a=super.names;return this.catch&&B(a,this.catch.names),this.finally&&B(a,this.finally.names),a}}let U=(()=>{class N extends A{constructor(f){super(),this.error=f}render(f){return`catch(${this.error})`+super.render(f)}}return N.kind="catch",N})(),K=(()=>{class N extends A{render(f){return"finally"+super.render(f)}}return N.kind="finally",N})();function B(N,a){for(const f in a)N[f]=(N[f]||0)+(a[f]||0);return N}function ce(N,a){return a instanceof r._CodeOrName?B(N,a.names):N}function z(N,a,f){return N instanceof r.Name?M(N):function J(x){return x instanceof r._Code&&x._items.some(ne=>ne instanceof r.Name&&1===a[ne.str]&&void 0!==f[ne.str])}(N)?new r._Code(N._items.reduce((x,ne)=>(ne instanceof r.Name&&(ne=M(ne)),ne instanceof r._Code?x.push(...ne._items):x.push(ne),x),[])):N;function M(x){const ne=f[x.str];return void 0===ne||1!==a[x.str]?x:(delete a[x.str],ne)}}function ee(N,a){for(const f in a)N[f]=(N[f]||0)-(a[f]||0)}function X(N){return"boolean"==typeof N||"number"==typeof N||null===N?!N:r._`!${I(N)}`}t.CodeGen=class Q{constructor(a,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?"\n":""},this._extScope=a,this._scope=new n.Scope({parent:a}),this._nodes=[new k]}toString(){return this._root.render(this.opts)}name(a){return this._scope.name(a)}scopeName(a){return this._extScope.name(a)}scopeValue(a,f){const M=this._extScope.value(a,f);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(a,f){return this._extScope.getValue(a,f)}scopeRefs(a){return this._extScope.scopeRefs(a,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(a,f,M,J){const x=this._scope.toName(f);return void 0!==M&&J&&(this._constants[x.str]=M),this._leafNode(new i(a,x,M)),x}const(a,f,M){return this._def(n.varKinds.const,a,f,M)}let(a,f,M){return this._def(n.varKinds.let,a,f,M)}var(a,f,M){return this._def(n.varKinds.var,a,f,M)}assign(a,f,M){return this._leafNode(new m(a,f,M))}add(a,f){return this._leafNode(new s(a,t.operators.ADD,f))}code(a){return"function"==typeof a?a():a!==r.nil&&this._leafNode(new O(a)),this}object(...a){const f=["{"];for(const[M,J]of a)f.length>1&&f.push(","),f.push(M),(M!==J||this.opts.es5)&&(f.push(":"),(0,r.addCodeArg)(f,J));return f.push("}"),new r._Code(f)}if(a,f,M){if(this._blockNode(new l(a)),f&&M)this.code(f).else().code(M).endIf();else if(f)this.code(f).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(a){return this._elseNode(new l(a))}else(){return this._elseNode(new u)}endIf(){return this._endBlockNode(l,u)}_for(a,f){return this._blockNode(a),f&&this.code(f).endFor(),this}for(a,f){return this._for(new d(a),f)}forRange(a,f,M,J,x=(this.opts.es5?n.varKinds.var:n.varKinds.let)){const ne=this._scope.toName(a);return this._for(new v(x,ne,f,M),()=>J(ne))}forOf(a,f,M,J=n.varKinds.const){const x=this._scope.toName(a);if(this.opts.es5){const ne=f instanceof r.Name?f:this.var("_arr",f);return this.forRange("_i",0,r._`${ne}.length`,Ee=>{this.var(x,r._`${ne}[${Ee}]`),M(x)})}return this._for(new C("of",J,x,f),()=>M(x))}forIn(a,f,M,J=(this.opts.es5?n.varKinds.var:n.varKinds.const)){if(this.opts.ownProperties)return this.forOf(a,r._`Object.keys(${f})`,M);const x=this._scope.toName(a);return this._for(new C("in",J,x,f),()=>M(x))}endFor(){return this._endBlockNode(S)}label(a){return this._leafNode(new e(a))}break(a){return this._leafNode(new _(a))}return(a){const f=new p;if(this._blockNode(f),this.code(a),1!==f.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(p)}try(a,f,M){if(!f&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new P;if(this._blockNode(J),this.code(a),f){const x=this.name("e");this._currNode=J.catch=new U(x),f(x)}return M&&(this._currNode=J.finally=new K,this.code(M)),this._endBlockNode(U,K)}throw(a){return this._leafNode(new w(a))}block(a,f){return this._blockStarts.push(this._nodes.length),a&&this.code(a).endBlock(f),this}endBlock(a){const f=this._blockStarts.pop();if(void 0===f)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-f;if(M<0||void 0!==a&&M!==a)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${a} expected`);return this._nodes.length=f,this}func(a,f=r.nil,M,J){return this._blockNode(new g(a,f,M)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(g)}optimize(a=1){for(;a-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(a){return this._currNode.nodes.push(a),this}_blockNode(a){this._currNode.nodes.push(a),this._nodes.push(a)}_endBlockNode(a,f){const M=this._currNode;if(M instanceof a||f&&M instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${a.kind}/${f.kind}`:a.kind}"`)}_elseNode(a){const f=this._currNode;if(!(f instanceof l))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=a,this}get _root(){return this._nodes[0]}get _currNode(){const a=this._nodes;return a[a.length-1]}set _currNode(a){const f=this._nodes;f[f.length-1]=a}},t.not=X;const L=H(t.operators.AND);t.and=function W(...N){return N.reduce(L)};const re=H(t.operators.OR);function H(N){return(a,f)=>a===r.nil?f:f===r.nil?a:r._`${I(a)} ${N} ${I(f)}`}function I(N){return N instanceof r.Name?N:r._`(${N})`}t.or=function fe(...N){return N.reduce(re)}},4055:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=o(2276);class n extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var y,s;(s=y=t.UsedValueState||(t.UsedValueState={}))[s.Started=0]="Started",s[s.Completed=1]="Completed",t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class h{constructor({prefixes:e,parent:_}={}){this._names={},this._prefixes=e,this._parent=_}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var _,w;if(null!==(w=null===(_=this._parent)||void 0===_?void 0:_._prefixes)&&void 0!==w&&w.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=h;class b extends r.Name{constructor(e,_){super(_),this.prefix=e}setValue(e,{property:_,itemIndex:w}){this.value=e,this.scopePath=r._`.${new r.Name(_)}[${w}]`}}t.ValueScopeName=b;const i=r._`\n`;t.ValueScope=class m extends h{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?i:r.nil}}get(){return this._scope}name(e){return new b(e,this._newName(e))}value(e,_){var w;if(void 0===_.ref)throw new Error("CodeGen: ref must be passed in value");const O=this.toName(e),{prefix:T}=O,A=null!==(w=_.key)&&void 0!==w?w:_.ref;let k=this._values[T];if(k){const S=k.get(A);if(S)return S}else k=this._values[T]=new Map;k.set(A,O);const u=this._scope[T]||(this._scope[T]=[]),l=u.length;return u[l]=_.ref,O.setValue(_,{property:T,itemIndex:l}),O}getValue(e,_){const w=this._values[e];if(w)return w.get(_)}scopeRefs(e,_=this._values){return this._reduceValues(_,w=>{if(void 0===w.scopePath)throw new Error(`CodeGen: name "${w}" has no value`);return r._`${e}${w.scopePath}`})}scopeCode(e=this._values,_,w){return this._reduceValues(e,O=>{if(void 0===O.value)throw new Error(`CodeGen: name "${O}" has no value`);return O.value.code},_,w)}_reduceValues(e,_,w={},O){let T=r.nil;for(const A in e){const k=e[A];if(!k)continue;const u=w[A]=w[A]||new Map;k.forEach(l=>{if(u.has(l))return;u.set(l,y.Started);let S=_(l);if(S)T=r._`${T}${this.opts.es5?t.varKinds.var:t.varKinds.const} ${l} = ${S};${this.opts._n}`;else{if(!(S=O?.(l)))throw new n(l);T=r._`${T}${S}${this.opts._n}`}u.set(l,y.Completed)})}return T}}},5618:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=o(117),n=o(8754),y=o(5631);function s(u,l){const S=u.const("err",l);u.if(r._`${y.default.vErrors} === null`,()=>u.assign(y.default.vErrors,r._`[${S}]`),r._`${y.default.vErrors}.push(${S})`),u.code(r._`${y.default.errors}++`)}function e(u,l){const{gen:S,validateName:d,schemaEnv:v}=u;v.$async?S.throw(r._`new ${u.ValidationError}(${l})`):(S.assign(r._`${d}.errors`,l),S.return(!1))}t.keywordError={message:({keyword:u})=>r.str`must pass "${u}" keyword validation`},t.keyword$DataError={message:({keyword:u,schemaType:l})=>l?r.str`"${u}" keyword must be ${l} ($data)`:r.str`"${u}" keyword is invalid ($data)`},t.reportError=function h(u,l=t.keywordError,S,d){const{it:v}=u,{gen:C,compositeRule:g,allErrors:p}=v,P=w(u,l,S);d??(g||p)?s(C,P):e(v,r._`[${P}]`)},t.reportExtraError=function b(u,l=t.keywordError,S){const{it:d}=u,{gen:v,compositeRule:C,allErrors:g}=d;s(v,w(u,l,S)),C||g||e(d,y.default.vErrors)},t.resetErrorsCount=function i(u,l){u.assign(y.default.errors,l),u.if(r._`${y.default.vErrors} !== null`,()=>u.if(l,()=>u.assign(r._`${y.default.vErrors}.length`,l),()=>u.assign(y.default.vErrors,null)))},t.extendErrors=function m({gen:u,keyword:l,schemaValue:S,data:d,errsCount:v,it:C}){if(void 0===v)throw new Error("ajv implementation error");const g=u.name("err");u.forRange("i",v,y.default.errors,p=>{u.const(g,r._`${y.default.vErrors}[${p}]`),u.if(r._`${g}.instancePath === undefined`,()=>u.assign(r._`${g}.instancePath`,(0,r.strConcat)(y.default.instancePath,C.errorPath))),u.assign(r._`${g}.schemaPath`,r.str`${C.errSchemaPath}/${l}`),C.opts.verbose&&(u.assign(r._`${g}.schema`,S),u.assign(r._`${g}.data`,d))})};const _={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function w(u,l,S){const{createErrors:d}=u.it;return!1===d?r._`{}`:function O(u,l,S={}){const{gen:d,it:v}=u,C=[T(v,S),A(u,S)];return function k(u,{params:l,message:S},d){const{keyword:v,data:C,schemaValue:g,it:p}=u,{opts:P,propertyName:U,topSchemaRef:K,schemaPath:Q}=p;d.push([_.keyword,v],[_.params,"function"==typeof l?l(u):l||r._`{}`]),P.messages&&d.push([_.message,"function"==typeof S?S(u):S]),P.verbose&&d.push([_.schema,g],[_.parentSchema,r._`${K}${Q}`],[y.default.data,C]),U&&d.push([_.propertyName,U])}(u,l,C),d.object(...C)}(u,l,S)}function T({errorPath:u},{instancePath:l}){const S=l?r.str`${u}${(0,n.getErrorPath)(l,n.Type.Str)}`:u;return[y.default.instancePath,(0,r.strConcat)(y.default.instancePath,S)]}function A({keyword:u,it:{errSchemaPath:l}},{schemaPath:S,parentSchema:d}){let v=d?l:r.str`${l}/${u}`;return S&&(v=r.str`${v}${(0,n.getErrorPath)(S,n.Type.Str)}`),[_.schemaPath,v]}},4317:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=o(117),n=o(110),y=o(5631),h=o(2690),b=o(8754),i=o(2175);class m{constructor(S){var d;let v;this.refs={},this.dynamicAnchors={},"object"==typeof S.schema&&(v=S.schema),this.schema=S.schema,this.schemaId=S.schemaId,this.root=S.root||this,this.baseId=null!==(d=S.baseId)&&void 0!==d?d:(0,h.normalizeId)(v?.[S.schemaId||"$id"]),this.schemaPath=S.schemaPath,this.localRefs=S.localRefs,this.meta=S.meta,this.$async=v?.$async,this.refs={}}}function s(l){const S=w.call(this,l);if(S)return S;const d=(0,h.getFullPath)(this.opts.uriResolver,l.root.baseId),{es5:v,lines:C}=this.opts.code,{ownProperties:g}=this.opts,p=new r.CodeGen(this.scope,{es5:v,lines:C,ownProperties:g});let P;l.$async&&(P=p.scopeValue("Error",{ref:n.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const U=p.scopeName("validate");l.validateName=U;const K={gen:p,allErrors:this.opts.allErrors,data:y.default.data,parentData:y.default.parentData,parentDataProperty:y.default.parentDataProperty,dataNames:[y.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:p.scopeValue("schema",!0===this.opts.code.source?{ref:l.schema,code:(0,r.stringify)(l.schema)}:{ref:l.schema}),validateName:U,ValidationError:P,schema:l.schema,schemaEnv:l,rootId:d,baseId:l.baseId||d,schemaPath:r.nil,errSchemaPath:l.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let Q;try{this._compilations.add(l),(0,i.validateFunctionCode)(K),p.optimize(this.opts.code.optimize);const B=p.toString();Q=`${p.scopeRefs(y.default.scope)}return ${B}`,this.opts.code.process&&(Q=this.opts.code.process(Q,l));const z=new Function(`${y.default.self}`,`${y.default.scope}`,Q)(this,this.scope.get());if(this.scope.value(U,{ref:z}),z.errors=null,z.schema=l.schema,z.schemaEnv=l,l.$async&&(z.$async=!0),!0===this.opts.code.source&&(z.source={validateName:U,validateCode:B,scopeValues:p._values}),this.opts.unevaluated){const{props:ee,items:X}=K;z.evaluated={props:ee instanceof r.Name?void 0:ee,items:X instanceof r.Name?void 0:X,dynamicProps:ee instanceof r.Name,dynamicItems:X instanceof r.Name},z.source&&(z.source.evaluated=(0,r.stringify)(z.evaluated))}return l.validate=z,l}catch(B){throw delete l.validate,delete l.validateName,Q&&this.logger.error("Error compiling schema, function code:",Q),B}finally{this._compilations.delete(l)}}function _(l){return(0,h.inlineRef)(l.schema,this.opts.inlineRefs)?l.schema:l.validate?l:s.call(this,l)}function w(l){for(const S of this._compilations)if(O(S,l))return S}function O(l,S){return l.schema===S.schema&&l.root===S.root&&l.baseId===S.baseId}function T(l,S){let d;for(;"string"==typeof(d=this.refs[S]);)S=d;return d||this.schemas[S]||A.call(this,l,S)}function A(l,S){const d=this.opts.uriResolver.parse(S),v=(0,h._getFullPath)(this.opts.uriResolver,d);let C=(0,h.getFullPath)(this.opts.uriResolver,l.baseId,void 0);if(Object.keys(l.schema).length>0&&v===C)return u.call(this,d,l);const g=(0,h.normalizeId)(v),p=this.refs[g]||this.schemas[g];if("string"==typeof p){const P=A.call(this,l,p);return"object"!=typeof P?.schema?void 0:u.call(this,d,P)}if("object"==typeof p?.schema){if(p.validate||s.call(this,p),g===(0,h.normalizeId)(S)){const{schema:P}=p,{schemaId:U}=this.opts,K=P[U];return K&&(C=(0,h.resolveUrl)(this.opts.uriResolver,C,K)),new m({schema:P,schemaId:U,root:l,baseId:C})}return u.call(this,d,p)}}t.SchemaEnv=m,t.compileSchema=s,t.resolveRef=function e(l,S,d){var v;d=(0,h.resolveUrl)(this.opts.uriResolver,S,d);const C=l.refs[d];if(C)return C;let g=T.call(this,l,d);if(void 0===g){const p=null===(v=l.localRefs)||void 0===v?void 0:v[d],{schemaId:P}=this.opts;p&&(g=new m({schema:p,schemaId:P,root:l,baseId:S}))}return void 0!==g?l.refs[d]=_.call(this,g):void 0},t.getCompilingSchema=w,t.resolveSchema=A;const k=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function u(l,{baseId:S,schema:d,root:v}){var C;if("/"!==(null===(C=l.fragment)||void 0===C?void 0:C[0]))return;for(const P of l.fragment.slice(1).split("/")){if("boolean"==typeof d)return;const U=d[(0,b.unescapeFragment)(P)];if(void 0===U)return;const K="object"==typeof(d=U)&&d[this.opts.schemaId];!k.has(P)&&K&&(S=(0,h.resolveUrl)(this.opts.uriResolver,S,K))}let g;if("boolean"!=typeof d&&d.$ref&&!(0,b.schemaHasRulesButRef)(d,this.RULES)){const P=(0,h.resolveUrl)(this.opts.uriResolver,S,d.$ref);g=A.call(this,v,P)}const{schemaId:p}=this.opts;return g=g||new m({schema:d,schemaId:p,root:v,baseId:S}),g.schema!==g.root.schema?g:void 0}},5631:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=n},5695:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(2690);class n extends Error{constructor(h,b,i,m){super(m||`can't resolve reference ${i} from id ${b}`),this.missingRef=(0,r.resolveUrl)(h,b,i),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(h,this.missingRef))}}t.default=n},2690:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=o(8754),n=o(9818),y=o(7037),h=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function b(u,l=!0){return"boolean"==typeof u||(!0===l?!m(u):!!l&&s(u)<=l)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function m(u){for(const l in u){if(i.has(l))return!0;const S=u[l];if(Array.isArray(S)&&S.some(m)||"object"==typeof S&&m(S))return!0}return!1}function s(u){let l=0;for(const S in u){if("$ref"===S)return 1/0;if(l++,!h.has(S)&&("object"==typeof u[S]&&(0,r.eachItem)(u[S],d=>l+=s(d)),l===1/0))return 1/0}return l}function e(u,l="",S){!1!==S&&(l=O(l));const d=u.parse(l);return _(u,d)}function _(u,l){return u.serialize(l).split("#")[0]+"#"}t.getFullPath=e,t._getFullPath=_;const w=/#\/?$/;function O(u){return u?u.replace(w,""):""}t.normalizeId=O,t.resolveUrl=function T(u,l,S){return S=O(S),u.resolve(l,S)};const A=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function k(u,l){if("boolean"==typeof u)return{};const{schemaId:S,uriResolver:d}=this.opts,v=O(u[S]||l),C={"":v},g=e(d,v,!1),p={},P=new Set;return y(u,{allKeys:!0},(Q,B,ce,z)=>{if(void 0===z)return;const ee=g+B;let X=C[z];function L(re){if(re=O(X?(0,this.opts.uriResolver.resolve)(X,re):re),P.has(re))throw K(re);P.add(re);let H=this.refs[re];return"string"==typeof H&&(H=this.refs[H]),"object"==typeof H?U(Q,H.schema,re):re!==O(ee)&&("#"===re[0]?(U(Q,p[re],re),p[re]=Q):this.refs[re]=ee),re}function W(re){if("string"==typeof re){if(!A.test(re))throw new Error(`invalid anchor "${re}"`);L.call(this,`#${re}`)}}"string"==typeof Q[S]&&(X=L.call(this,Q[S])),W.call(this,Q.$anchor),W.call(this,Q.$dynamicAnchor),C[B]=X}),p;function U(Q,B,ce){if(void 0!==B&&!n(Q,B))throw K(ce)}function K(Q){return new Error(`reference "${Q}" resolves to more than one schema`)}}},491:(Y,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function n(h){return"string"==typeof h&&r.has(h)},t.getRules=function y(){const h={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...h,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},h.number,h.string,h.array,h.object],post:{rules:[]},all:{},keywords:{}}}},8754:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=o(117),n=o(2276);function b(g,p=g.schema){const{opts:P,self:U}=g;if(!P.strictSchema||"boolean"==typeof p)return;const K=U.RULES.keywords;for(const Q in p)K[Q]||C(g,`unknown keyword: "${Q}"`)}function i(g,p){if("boolean"==typeof g)return!g;for(const P in g)if(p[P])return!0;return!1}function w(g){return"number"==typeof g?`${g}`:g.replace(/~/g,"~0").replace(/\//g,"~1")}function O(g){return g.replace(/~1/g,"/").replace(/~0/g,"~")}function A({mergeNames:g,mergeToName:p,mergeValues:P,resultToName:U}){return(K,Q,B,ce)=>{const z=void 0===B?Q:B instanceof r.Name?(Q instanceof r.Name?g(K,Q,B):p(K,Q,B),B):Q instanceof r.Name?(p(K,B,Q),Q):P(Q,B);return ce!==r.Name||z instanceof r.Name?z:U(K,z)}}function k(g,p){if(!0===p)return g.var("props",!0);const P=g.var("props",r._`{}`);return void 0!==p&&u(g,P,p),P}function u(g,p,P){Object.keys(P).forEach(U=>g.assign(r._`${p}${(0,r.getProperty)(U)}`,!0))}t.toHash=function y(g){const p={};for(const P of g)p[P]=!0;return p},t.alwaysValidSchema=function h(g,p){return"boolean"==typeof p?p:0===Object.keys(p).length||(b(g,p),!i(p,g.self.RULES.all))},t.checkUnknownRules=b,t.schemaHasRules=i,t.schemaHasRulesButRef=function m(g,p){if("boolean"==typeof g)return!g;for(const P in g)if("$ref"!==P&&p.all[P])return!0;return!1},t.schemaRefOrVal=function s({topSchemaRef:g,schemaPath:p},P,U,K){if(!K){if("number"==typeof P||"boolean"==typeof P)return P;if("string"==typeof P)return r._`${P}`}return r._`${g}${p}${(0,r.getProperty)(U)}`},t.unescapeFragment=function e(g){return O(decodeURIComponent(g))},t.escapeFragment=function _(g){return encodeURIComponent(w(g))},t.escapeJsonPointer=w,t.unescapeJsonPointer=O,t.eachItem=function T(g,p){if(Array.isArray(g))for(const P of g)p(P);else p(g)},t.mergeEvaluated={props:A({mergeNames:(g,p,P)=>g.if(r._`${P} !== true && ${p} !== undefined`,()=>{g.if(r._`${p} === true`,()=>g.assign(P,!0),()=>g.assign(P,r._`${P} || {}`).code(r._`Object.assign(${P}, ${p})`))}),mergeToName:(g,p,P)=>g.if(r._`${P} !== true`,()=>{!0===p?g.assign(P,!0):(g.assign(P,r._`${P} || {}`),u(g,P,p))}),mergeValues:(g,p)=>!0===g||{...g,...p},resultToName:k}),items:A({mergeNames:(g,p,P)=>g.if(r._`${P} !== true && ${p} !== undefined`,()=>g.assign(P,r._`${p} === true ? true : ${P} > ${p} ? ${P} : ${p}`)),mergeToName:(g,p,P)=>g.if(r._`${P} !== true`,()=>g.assign(P,!0===p||r._`${P} > ${p} ? ${P} : ${p}`)),mergeValues:(g,p)=>!0===g||Math.max(g,p),resultToName:(g,p)=>g.var("items",p)})},t.evaluatedPropsToName=k,t.setEvaluated=u;const l={};var d,g;function C(g,p,P=g.opts.strictSchema){if(P){if(p=`strict mode: ${p}`,!0===P)throw new Error(p);g.self.logger.warn(p)}}t.useFunc=function S(g,p){return g.scopeValue("func",{ref:p,code:l[p.code]||(l[p.code]=new n._Code(p.code))})},(g=d=t.Type||(t.Type={}))[g.Num=0]="Num",g[g.Str=1]="Str",t.getErrorPath=function v(g,p,P){if(g instanceof r.Name){const U=p===d.Num;return P?U?r._`"[" + ${g} + "]"`:r._`"['" + ${g} + "']"`:U?r._`"/" + ${g}`:r._`"/" + ${g}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return P?(0,r.getProperty)(g).toString():"/"+w(g)},t.checkStrictMode=C},9820:(Y,t)=>{"use strict";function r(y,h){return h.rules.some(b=>n(y,b))}function n(y,h){var b;return void 0!==y[h.keyword]||(null===(b=h.definition.implements)||void 0===b?void 0:b.some(i=>void 0!==y[i]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function o({schema:y,self:h},b){const i=h.RULES.types[b];return i&&!0!==i&&r(y,i)},t.shouldUseGroup=r,t.shouldUseRule=n},9365:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=o(5618),n=o(117),y=o(5631),h={message:"boolean schema is false"};function m(s,e){const{gen:_,data:w}=s;(0,r.reportError)({gen:_,keyword:"false schema",data:w,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s},h,void 0,e)}t.topBoolOrEmptySchema=function b(s){const{gen:e,schema:_,validateName:w}=s;!1===_?m(s,!1):"object"==typeof _&&!0===_.$async?e.return(y.default.data):(e.assign(n._`${w}.errors`,null),e.return(!0))},t.boolOrEmptySchema=function i(s,e){const{gen:_,schema:w}=s;!1===w?(_.var(e,!1),m(s)):_.var(e,!0)}},4730:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=o(491),n=o(9820),y=o(5618),h=o(117),b=o(8754);var i,d;function s(d){const v=Array.isArray(d)?d:d?[d]:[];if(v.every(r.isJSONType))return v;throw new Error("type must be JSONType or JSONType[]: "+v.join(","))}(d=i=t.DataType||(t.DataType={}))[d.Correct=0]="Correct",d[d.Wrong=1]="Wrong",t.getSchemaTypes=function m(d){const v=s(d.type);if(v.includes("null")){if(!1===d.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!v.length&&void 0!==d.nullable)throw new Error('"nullable" cannot be used without "type"');!0===d.nullable&&v.push("null")}return v},t.getJSONTypes=s,t.coerceAndCheckDataType=function e(d,v){const{gen:C,data:g,opts:p}=d,P=function w(d,v){return v?d.filter(C=>_.has(C)||"array"===v&&"array"===C):[]}(v,p.coerceTypes),U=v.length>0&&!(0===P.length&&1===v.length&&(0,n.schemaHasRulesForType)(d,v[0]));if(U){const K=k(v,g,p.strictNumbers,i.Wrong);C.if(K,()=>{P.length?function O(d,v,C){const{gen:g,data:p,opts:P}=d,U=g.let("dataType",h._`typeof ${p}`),K=g.let("coerced",h._`undefined`);"array"===P.coerceTypes&&g.if(h._`${U} == 'object' && Array.isArray(${p}) && ${p}.length == 1`,()=>g.assign(p,h._`${p}[0]`).assign(U,h._`typeof ${p}`).if(k(v,p,P.strictNumbers),()=>g.assign(K,p))),g.if(h._`${K} !== undefined`);for(const B of C)(_.has(B)||"array"===B&&"array"===P.coerceTypes)&&Q(B);function Q(B){switch(B){case"string":return void g.elseIf(h._`${U} == "number" || ${U} == "boolean"`).assign(K,h._`"" + ${p}`).elseIf(h._`${p} === null`).assign(K,h._`""`);case"number":return void g.elseIf(h._`${U} == "boolean" || ${p} === null
              || (${U} == "string" && ${p} && ${p} == +${p})`).assign(K,h._`+${p}`);case"integer":return void g.elseIf(h._`${U} === "boolean" || ${p} === null
              || (${U} === "string" && ${p} && ${p} == +${p} && !(${p} % 1))`).assign(K,h._`+${p}`);case"boolean":return void g.elseIf(h._`${p} === "false" || ${p} === 0 || ${p} === null`).assign(K,!1).elseIf(h._`${p} === "true" || ${p} === 1`).assign(K,!0);case"null":return g.elseIf(h._`${p} === "" || ${p} === 0 || ${p} === false`),void g.assign(K,null);case"array":g.elseIf(h._`${U} === "string" || ${U} === "number"
              || ${U} === "boolean" || ${p} === null`).assign(K,h._`[${p}]`)}}g.else(),l(d),g.endIf(),g.if(h._`${K} !== undefined`,()=>{g.assign(p,K),function T({gen:d,parentData:v,parentDataProperty:C},g){d.if(h._`${v} !== undefined`,()=>d.assign(h._`${v}[${C}]`,g))}(d,K)})}(d,v,P):l(d)})}return U};const _=new Set(["string","number","integer","boolean","null"]);function A(d,v,C,g=i.Correct){const p=g===i.Correct?h.operators.EQ:h.operators.NEQ;let P;switch(d){case"null":return h._`${v} ${p} null`;case"array":P=h._`Array.isArray(${v})`;break;case"object":P=h._`${v} && typeof ${v} == "object" && !Array.isArray(${v})`;break;case"integer":P=U(h._`!(${v} % 1) && !isNaN(${v})`);break;case"number":P=U();break;default:return h._`typeof ${v} ${p} ${d}`}return g===i.Correct?P:(0,h.not)(P);function U(K=h.nil){return(0,h.and)(h._`typeof ${v} == "number"`,K,C?h._`isFinite(${v})`:h.nil)}}function k(d,v,C,g){if(1===d.length)return A(d[0],v,C,g);let p;const P=(0,b.toHash)(d);if(P.array&&P.object){const U=h._`typeof ${v} != "object"`;p=P.null?U:h._`!${v} || ${U}`,delete P.null,delete P.array,delete P.object}else p=h.nil;P.number&&delete P.integer;for(const U in P)p=(0,h.and)(p,A(U,v,C,g));return p}t.checkDataType=A,t.checkDataTypes=k;const u={message:({schema:d})=>`must be ${d}`,params:({schema:d,schemaValue:v})=>"string"==typeof d?h._`{type: ${d}}`:h._`{type: ${v}}`};function l(d){const v=function S(d){const{gen:v,data:C,schema:g}=d,p=(0,b.schemaRefOrVal)(d,g,"type");return{gen:v,keyword:"type",data:C,schema:g.type,schemaCode:p,schemaValue:p,parentSchema:g,params:{},it:d}}(d);(0,y.reportError)(v,u)}t.reportTypeError=l},2423:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=o(117),n=o(8754);function h(b,i,m){const{gen:s,compositeRule:e,data:_,opts:w}=b;if(void 0===m)return;const O=r._`${_}${(0,r.getProperty)(i)}`;if(e)return void(0,n.checkStrictMode)(b,`default is ignored for: ${O}`);let T=r._`${O} === undefined`;"empty"===w.useDefaults&&(T=r._`${T} || ${O} === null || ${O} === ""`),s.if(T,r._`${O} = ${(0,r.stringify)(m)}`)}t.assignDefaults=function y(b,i){const{properties:m,items:s}=b.schema;if("object"===i&&m)for(const e in m)h(b,e,m[e].default);else"array"===i&&Array.isArray(s)&&s.forEach((e,_)=>h(b,_,e.default))}},2175:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=o(9365),n=o(4730),y=o(9820),h=o(4730),b=o(2423),i=o(2641),m=o(6117),s=o(117),e=o(5631),_=o(2690),w=o(8754),O=o(5618);function A({gen:R,validateName:j,schema:V,schemaEnv:G,opts:Z},te){Z.code.es5?R.func(j,s._`${e.default.data}, ${e.default.valCxt}`,G.$async,()=>{R.code(s._`"use strict"; ${d(V,Z)}`),function u(R,j){R.if(e.default.valCxt,()=>{R.var(e.default.instancePath,s._`${e.default.valCxt}.${e.default.instancePath}`),R.var(e.default.parentData,s._`${e.default.valCxt}.${e.default.parentData}`),R.var(e.default.parentDataProperty,s._`${e.default.valCxt}.${e.default.parentDataProperty}`),R.var(e.default.rootData,s._`${e.default.valCxt}.${e.default.rootData}`),j.dynamicRef&&R.var(e.default.dynamicAnchors,s._`${e.default.valCxt}.${e.default.dynamicAnchors}`)},()=>{R.var(e.default.instancePath,s._`""`),R.var(e.default.parentData,s._`undefined`),R.var(e.default.parentDataProperty,s._`undefined`),R.var(e.default.rootData,e.default.data),j.dynamicRef&&R.var(e.default.dynamicAnchors,s._`{}`)})}(R,Z),R.code(te)}):R.func(j,s._`${e.default.data}, ${function k(R){return s._`{${e.default.instancePath}="", ${e.default.parentData}, ${e.default.parentDataProperty}, ${e.default.rootData}=${e.default.data}${R.dynamicRef?s._`, ${e.default.dynamicAnchors}={}`:s.nil}}={}`}(Z)}`,G.$async,()=>R.code(d(V,Z)).code(te))}function d(R,j){const V="object"==typeof R&&R[j.schemaId];return V&&(j.code.source||j.code.process)?s._`/*# sourceURL=${V} */`:s.nil}function C({schema:R,self:j}){if("boolean"==typeof R)return!R;for(const V in R)if(j.RULES.all[V])return!0;return!1}function g(R){return"boolean"!=typeof R.schema}function P(R){(0,w.checkUnknownRules)(R),function K(R){const{schema:j,errSchemaPath:V,opts:G,self:Z}=R;j.$ref&&G.ignoreKeywordsWithRef&&(0,w.schemaHasRulesButRef)(j,Z.RULES)&&Z.logger.warn(`$ref: keywords ignored in schema at path "${V}"`)}(R)}function U(R,j){if(R.opts.jtd)return L(R,[],!1,j);const V=(0,n.getSchemaTypes)(R.schema);L(R,V,!(0,n.coerceAndCheckDataType)(R,V),j)}function z({gen:R,schemaEnv:j,schema:V,errSchemaPath:G,opts:Z}){const te=V.$comment;if(!0===Z.$comment)R.code(s._`${e.default.self}.logger.log(${te})`);else if("function"==typeof Z.$comment){const pe=s.str`${G}/$comment`,Oe=R.scopeValue("root",{ref:j.root});R.code(s._`${e.default.self}.opts.$comment(${te}, ${pe}, ${Oe}.schema)`)}}function L(R,j,V,G){const{gen:Z,schema:te,data:pe,allErrors:Oe,opts:ve,self:me}=R,{RULES:$e}=me;function Fe(Pe){(0,y.shouldUseGroup)(te,Pe)&&(Pe.type?(Z.if((0,h.checkDataType)(Pe.type,pe,ve.strictNumbers)),W(R,Pe),1===j.length&&j[0]===Pe.type&&V&&(Z.else(),(0,h.reportTypeError)(R)),Z.endIf()):W(R,Pe),Oe||Z.if(s._`${e.default.errors} === ${G||0}`))}!te.$ref||!ve.ignoreKeywordsWithRef&&(0,w.schemaHasRulesButRef)(te,$e)?(ve.jtd||function re(R,j){R.schemaEnv.meta||!R.opts.strictTypes||(function fe(R,j){if(j.length){if(!R.dataTypes.length)return void(R.dataTypes=j);j.forEach(V=>{a(R.dataTypes,V)||M(R,`type "${V}" not allowed by context "${R.dataTypes.join(",")}"`)}),function f(R,j){const V=[];for(const G of R.dataTypes)a(j,G)?V.push(G):j.includes("integer")&&"number"===G&&V.push("integer");R.dataTypes=V}(R,j)}}(R,j),R.opts.allowUnionTypes||function H(R,j){j.length>1&&(2!==j.length||!j.includes("null"))&&M(R,"use allowUnionTypes to allow union type keyword")}(R,j),function I(R,j){const V=R.self.RULES.all;for(const G in V){const Z=V[G];if("object"==typeof Z&&(0,y.shouldUseRule)(R.schema,Z)){const{type:te}=Z.definition;te.length&&!te.some(pe=>N(j,pe))&&M(R,`missing type "${te.join(",")}" for keyword "${G}"`)}}}(R,R.dataTypes))}(R,j),Z.block(()=>{for(const Pe of $e.rules)Fe(Pe);Fe($e.post)})):Z.block(()=>x(R,"$ref",$e.all.$ref.definition))}function W(R,j){const{gen:V,schema:G,opts:{useDefaults:Z}}=R;Z&&(0,b.assignDefaults)(R,j.type),V.block(()=>{for(const te of j.rules)(0,y.shouldUseRule)(G,te)&&x(R,te.keyword,te.definition,j.type)})}function N(R,j){return R.includes(j)||"number"===j&&R.includes("integer")}function a(R,j){return R.includes(j)||"integer"===j&&R.includes("number")}function M(R,j){(0,w.checkStrictMode)(R,j+=` at "${R.schemaEnv.baseId+R.errSchemaPath}" (strictTypes)`,R.opts.strictTypes)}t.validateFunctionCode=function T(R){g(R)&&(P(R),C(R))?function l(R){const{schema:j,opts:V,gen:G}=R;A(R,()=>{V.$comment&&j.$comment&&z(R),function Q(R){const{schema:j,opts:V}=R;void 0!==j.default&&V.useDefaults&&V.strictSchema&&(0,w.checkStrictMode)(R,"default is ignored in the schema root")}(R),G.let(e.default.vErrors,null),G.let(e.default.errors,0),V.unevaluated&&function S(R){const{gen:j,validateName:V}=R;R.evaluated=j.const("evaluated",s._`${V}.evaluated`),j.if(s._`${R.evaluated}.dynamicProps`,()=>j.assign(s._`${R.evaluated}.props`,s._`undefined`)),j.if(s._`${R.evaluated}.dynamicItems`,()=>j.assign(s._`${R.evaluated}.items`,s._`undefined`))}(R),U(R),function ee(R){const{gen:j,schemaEnv:V,validateName:G,ValidationError:Z,opts:te}=R;V.$async?j.if(s._`${e.default.errors} === 0`,()=>j.return(e.default.data),()=>j.throw(s._`new ${Z}(${e.default.vErrors})`)):(j.assign(s._`${G}.errors`,e.default.vErrors),te.unevaluated&&function X({gen:R,evaluated:j,props:V,items:G}){V instanceof s.Name&&R.assign(s._`${j}.props`,V),G instanceof s.Name&&R.assign(s._`${j}.items`,G)}(R),j.return(s._`${e.default.errors} === 0`))}(R)})}(R):A(R,()=>(0,r.topBoolOrEmptySchema)(R))};class J{constructor(j,V,G){if((0,i.validateKeywordUsage)(j,V,G),this.gen=j.gen,this.allErrors=j.allErrors,this.keyword=G,this.data=j.data,this.schema=j.schema[G],this.$data=V.$data&&j.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,w.schemaRefOrVal)(j,this.schema,G,this.$data),this.schemaType=V.schemaType,this.parentSchema=j.schema,this.params={},this.it=j,this.def=V,this.$data)this.schemaCode=j.gen.const("vSchema",Se(this.$data,j));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,V.schemaType,V.allowUndefined))throw new Error(`${G} value must be ${JSON.stringify(V.schemaType)}`);("code"in V?V.trackErrors:!1!==V.errors)&&(this.errsCount=j.gen.const("_errs",e.default.errors))}result(j,V,G){this.failResult((0,s.not)(j),V,G)}failResult(j,V,G){this.gen.if(j),G?G():this.error(),V?(this.gen.else(),V(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(j,V){this.failResult((0,s.not)(j),void 0,V)}fail(j){if(void 0===j)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(j),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(j){if(!this.$data)return this.fail(j);const{schemaCode:V}=this;this.fail(s._`${V} !== undefined && (${(0,s.or)(this.invalid$data(),j)})`)}error(j,V,G){if(V)return this.setParams(V),this._error(j,G),void this.setParams({});this._error(j,G)}_error(j,V){(j?O.reportExtraError:O.reportError)(this,this.def.error,V)}$dataError(){(0,O.reportError)(this,this.def.$dataError||O.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,O.resetErrorsCount)(this.gen,this.errsCount)}ok(j){this.allErrors||this.gen.if(j)}setParams(j,V){V?Object.assign(this.params,j):this.params=j}block$data(j,V,G=s.nil){this.gen.block(()=>{this.check$data(j,G),V()})}check$data(j=s.nil,V=s.nil){if(!this.$data)return;const{gen:G,schemaCode:Z,schemaType:te,def:pe}=this;G.if((0,s.or)(s._`${Z} === undefined`,V)),j!==s.nil&&G.assign(j,!0),(te.length||pe.validateSchema)&&(G.elseIf(this.invalid$data()),this.$dataError(),j!==s.nil&&G.assign(j,!1)),G.else()}invalid$data(){const{gen:j,schemaCode:V,schemaType:G,def:Z,it:te}=this;return(0,s.or)(function pe(){if(G.length){if(!(V instanceof s.Name))throw new Error("ajv implementation error");const ve=Array.isArray(G)?G:[G];return s._`${(0,h.checkDataTypes)(ve,V,te.opts.strictNumbers,h.DataType.Wrong)}`}return s.nil}(),function Oe(){if(Z.validateSchema){const ve=j.scopeValue("validate$data",{ref:Z.validateSchema});return s._`!${ve}(${V})`}return s.nil}())}subschema(j,V){const G=(0,m.getSubschema)(this.it,j);(0,m.extendSubschemaData)(G,this.it,j),(0,m.extendSubschemaMode)(G,j);const Z={...this.it,...G,items:void 0,props:void 0};return function v(R,j){g(R)&&(P(R),C(R))?function p(R,j){const{schema:V,gen:G,opts:Z}=R;Z.$comment&&V.$comment&&z(R),function B(R){const j=R.schema[R.opts.schemaId];j&&(R.baseId=(0,_.resolveUrl)(R.opts.uriResolver,R.baseId,j))}(R),function ce(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}(R);const te=G.const("_errs",e.default.errors);U(R,te),G.var(j,s._`${te} === ${e.default.errors}`)}(R,j):(0,r.boolOrEmptySchema)(R,j)}(Z,V),Z}mergeEvaluated(j,V){const{it:G,gen:Z}=this;G.opts.unevaluated&&(!0!==G.props&&void 0!==j.props&&(G.props=w.mergeEvaluated.props(Z,j.props,G.props,V)),!0!==G.items&&void 0!==j.items&&(G.items=w.mergeEvaluated.items(Z,j.items,G.items,V)))}mergeValidEvaluated(j,V){const{it:G,gen:Z}=this;if(G.opts.unevaluated&&(!0!==G.props||!0!==G.items))return Z.if(V,()=>this.mergeEvaluated(j,s.Name)),!0}}function x(R,j,V,G){const Z=new J(R,V,j);"code"in V?V.code(Z,G):Z.$data&&V.validate?(0,i.funcKeywordCode)(Z,V):"macro"in V?(0,i.macroKeywordCode)(Z,V):(V.compile||V.validate)&&(0,i.funcKeywordCode)(Z,V)}t.KeywordCxt=J;const ne=/^\/(?:[^~]|~0|~1)*$/,Ee=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Se(R,{dataLevel:j,dataNames:V,dataPathArr:G}){let Z,te;if(""===R)return e.default.rootData;if("/"===R[0]){if(!ne.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);Z=R,te=e.default.rootData}else{const me=Ee.exec(R);if(!me)throw new Error(`Invalid JSON-pointer: ${R}`);const $e=+me[1];if(Z=me[2],"#"===Z){if($e>=j)throw new Error(ve("property/index",$e));return G[j-$e]}if($e>j)throw new Error(ve("data",$e));if(te=V[j-$e],!Z)return te}let pe=te;const Oe=Z.split("/");for(const me of Oe)me&&(te=s._`${te}${(0,s.getProperty)((0,w.unescapeJsonPointer)(me))}`,pe=s._`${pe} && ${te}`);return pe;function ve(me,$e){return`Cannot access ${me} ${$e} levels up, current level is ${j}`}}t.getData=Se},2641:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=o(117),n=o(5631),y=o(9508),h=o(5618);function m(T){const{gen:A,data:k,it:u}=T;A.if(u.parentData,()=>A.assign(k,r._`${u.parentData}[${u.parentDataProperty}]`))}function _(T,A,k){if(void 0===k)throw new Error(`keyword "${A}" failed to compile`);return T.scopeValue("keyword","function"==typeof k?{ref:k}:{ref:k,code:(0,r.stringify)(k)})}t.macroKeywordCode=function b(T,A){const{gen:k,keyword:u,schema:l,parentSchema:S,it:d}=T,v=A.macro.call(d.self,l,S,d),C=_(k,u,v);!1!==d.opts.validateSchema&&d.self.validateSchema(v,!0);const g=k.name("valid");T.subschema({schema:v,schemaPath:r.nil,errSchemaPath:`${d.errSchemaPath}/${u}`,topSchemaRef:C,compositeRule:!0},g),T.pass(g,()=>T.error(!0))},t.funcKeywordCode=function i(T,A){var k;const{gen:u,keyword:l,schema:S,parentSchema:d,$data:v,it:C}=T;!function e({schemaEnv:T},A){if(A.async&&!T.$async)throw new Error("async keyword in sync schema")}(C,A);const g=!v&&A.compile?A.compile.call(C.self,S,d,C):A.validate,p=_(u,l,g),P=u.let("valid");function B(z=(A.async?r._`await `:r.nil)){u.assign(P,r._`${z}${(0,y.callValidateCode)(T,p,C.opts.passContext?n.default.this:n.default.self,!("compile"in A&&!v||!1===A.schema))}`,A.modifying)}function ce(z){var ee;u.if((0,r.not)(null!==(ee=A.valid)&&void 0!==ee?ee:P),z)}T.block$data(P,function U(){if(!1===A.errors)B(),A.modifying&&m(T),ce(()=>T.error());else{const z=A.async?function K(){const z=u.let("ruleErrs",null);return u.try(()=>B(r._`await `),ee=>u.assign(P,!1).if(r._`${ee} instanceof ${C.ValidationError}`,()=>u.assign(z,r._`${ee}.errors`),()=>u.throw(ee))),z}():function Q(){const z=r._`${p}.errors`;return u.assign(z,null),B(r.nil),z}();A.modifying&&m(T),ce(()=>function s(T,A){const{gen:k}=T;k.if(r._`Array.isArray(${A})`,()=>{k.assign(n.default.vErrors,r._`${n.default.vErrors} === null ? ${A} : ${n.default.vErrors}.concat(${A})`).assign(n.default.errors,r._`${n.default.vErrors}.length`),(0,h.extendErrors)(T)},()=>T.error())}(T,z))}}),T.ok(null!==(k=A.valid)&&void 0!==k?k:P)},t.validSchemaType=function w(T,A,k=!1){return!A.length||A.some(u=>"array"===u?Array.isArray(T):"object"===u?T&&"object"==typeof T&&!Array.isArray(T):typeof T==u||k&&typeof T>"u")},t.validateKeywordUsage=function O({schema:T,opts:A,self:k,errSchemaPath:u},l,S){if(Array.isArray(l.keyword)?!l.keyword.includes(S):l.keyword!==S)throw new Error("ajv implementation error");const d=l.dependencies;if(d?.some(v=>!Object.prototype.hasOwnProperty.call(T,v)))throw new Error(`parent schema must have dependencies of ${S}: ${d.join(",")}`);if(l.validateSchema&&!l.validateSchema(T[S])){const C=`keyword "${S}" value is invalid at path "${u}": `+k.errorsText(l.validateSchema.errors);if("log"!==A.validateSchema)throw new Error(C);k.logger.error(C)}}},6117:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=o(117),n=o(8754);t.getSubschema=function y(i,{keyword:m,schemaProp:s,schema:e,schemaPath:_,errSchemaPath:w,topSchemaRef:O}){if(void 0!==m&&void 0!==e)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==m){const T=i.schema[m];return void 0===s?{schema:T,schemaPath:r._`${i.schemaPath}${(0,r.getProperty)(m)}`,errSchemaPath:`${i.errSchemaPath}/${m}`}:{schema:T[s],schemaPath:r._`${i.schemaPath}${(0,r.getProperty)(m)}${(0,r.getProperty)(s)}`,errSchemaPath:`${i.errSchemaPath}/${m}/${(0,n.escapeFragment)(s)}`}}if(void 0!==e){if(void 0===_||void 0===w||void 0===O)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:e,schemaPath:_,topSchemaRef:O,errSchemaPath:w}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function h(i,m,{dataProp:s,dataPropType:e,data:_,dataTypes:w,propertyName:O}){if(void 0!==_&&void 0!==s)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:T}=m;if(void 0!==s){const{errorPath:k,dataPathArr:u,opts:l}=m;A(T.let("data",r._`${m.data}${(0,r.getProperty)(s)}`,!0)),i.errorPath=r.str`${k}${(0,n.getErrorPath)(s,e,l.jsPropertySyntax)}`,i.parentDataProperty=r._`${s}`,i.dataPathArr=[...u,i.parentDataProperty]}function A(k){i.data=k,i.dataLevel=m.dataLevel+1,i.dataTypes=[],m.definedProperties=new Set,i.parentData=m.data,i.dataNames=[...m.dataNames,k]}void 0!==_&&(A(_ instanceof r.Name?_:T.let("data",_,!0)),void 0!==O&&(i.propertyName=O)),w&&(i.dataTypes=w)},t.extendSubschemaMode=function b(i,{jtdDiscriminator:m,jtdMetadata:s,compositeRule:e,createErrors:_,allErrors:w}){void 0!==e&&(i.compositeRule=e),void 0!==_&&(i.createErrors=_),void 0!==w&&(i.allErrors=w),i.jtdDiscriminator=m,i.jtdMetadata=s}},8385:(Y,t,o)=>{"use strict";var r=o(7156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var n=o(2175);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var y=o(117);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});const h=o(110),b=o(5695),i=o(491),m=o(4317),s=o(117),e=o(2690),_=o(4730),w=o(8754),O=o(4775),T=o(5573),A=(H,I)=>new RegExp(H,I);A.code="new RegExp";const k=["removeAdditional","useDefaults","coerceTypes"],u=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),l={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},S={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function v(H){var I,N,a,f,M,J,x,ne,Ee,Se,R,j,V,G,Z,te,pe,Oe,ve,me,$e,Fe,Pe,Ye,We;const be=H.strict,Me=null===(I=H.code)||void 0===I?void 0:I.optimize,Xe=!0===Me||void 0===Me?1:Me||0,qe=null!==(a=null===(N=H.code)||void 0===N?void 0:N.regExp)&&void 0!==a?a:A,Ue=null!==(f=H.uriResolver)&&void 0!==f?f:T.default;return{strictSchema:null===(J=null!==(M=H.strictSchema)&&void 0!==M?M:be)||void 0===J||J,strictNumbers:null===(ne=null!==(x=H.strictNumbers)&&void 0!==x?x:be)||void 0===ne||ne,strictTypes:null!==(Se=null!==(Ee=H.strictTypes)&&void 0!==Ee?Ee:be)&&void 0!==Se?Se:"log",strictTuples:null!==(j=null!==(R=H.strictTuples)&&void 0!==R?R:be)&&void 0!==j?j:"log",strictRequired:null!==(G=null!==(V=H.strictRequired)&&void 0!==V?V:be)&&void 0!==G&&G,code:H.code?{...H.code,optimize:Xe,regExp:qe}:{optimize:Xe,regExp:qe},loopRequired:null!==(Z=H.loopRequired)&&void 0!==Z?Z:200,loopEnum:null!==(te=H.loopEnum)&&void 0!==te?te:200,meta:null===(pe=H.meta)||void 0===pe||pe,messages:null===(Oe=H.messages)||void 0===Oe||Oe,inlineRefs:null===(ve=H.inlineRefs)||void 0===ve||ve,schemaId:null!==(me=H.schemaId)&&void 0!==me?me:"$id",addUsedSchema:null===($e=H.addUsedSchema)||void 0===$e||$e,validateSchema:null===(Fe=H.validateSchema)||void 0===Fe||Fe,validateFormats:null===(Pe=H.validateFormats)||void 0===Pe||Pe,unicodeRegExp:null===(Ye=H.unicodeRegExp)||void 0===Ye||Ye,int32range:null===(We=H.int32range)||void 0===We||We,uriResolver:Ue}}class C{constructor(I={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,I=this.opts={...I,...v(I)};const{es5:N,lines:a}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:u,es5:N,lines:a}),this.logger=function ce(H){if(!1===H)return B;if(void 0===H)return console;if(H.log&&H.warn&&H.error)return H;throw new Error("logger must implement log, warn and error methods")}(I.logger);const f=I.validateFormats;I.validateFormats=!1,this.RULES=(0,i.getRules)(),g.call(this,l,I,"NOT SUPPORTED"),g.call(this,S,I,"DEPRECATED","warn"),this._metaOpts=Q.call(this),I.formats&&U.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),I.keywords&&K.call(this,I.keywords),"object"==typeof I.meta&&this.addMetaSchema(I.meta),P.call(this),I.validateFormats=f}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:I,meta:N,schemaId:a}=this.opts;let f=O;"id"===a&&(f={...O},f.id=f.$id,delete f.$id),N&&I&&this.addMetaSchema(f,f[a],!1)}defaultMeta(){const{meta:I,schemaId:N}=this.opts;return this.opts.defaultMeta="object"==typeof I?I[N]||I:void 0}validate(I,N){let a;if("string"==typeof I){if(a=this.getSchema(I),!a)throw new Error(`no schema with key or ref "${I}"`)}else a=this.compile(I);const f=a(N);return"$async"in a||(this.errors=a.errors),f}compile(I,N){const a=this._addSchema(I,N);return a.validate||this._compileSchemaEnv(a)}compileAsync(I,N){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:a}=this.opts;return f.call(this,I,N);function f(Z,te){return M.apply(this,arguments)}function M(){return(M=r(function*(Z,te){yield J.call(this,Z.$schema);const pe=this._addSchema(Z,te);return pe.validate||ne.call(this,pe)})).apply(this,arguments)}function J(Z){return x.apply(this,arguments)}function x(){return(x=r(function*(Z){Z&&!this.getSchema(Z)&&(yield f.call(this,{$ref:Z},!0))})).apply(this,arguments)}function ne(Z){return Ee.apply(this,arguments)}function Ee(){return(Ee=r(function*(Z){try{return this._compileSchemaEnv(Z)}catch(te){if(!(te instanceof b.default))throw te;return Se.call(this,te),yield R.call(this,te.missingSchema),ne.call(this,Z)}})).apply(this,arguments)}function Se({missingSchema:Z,missingRef:te}){if(this.refs[Z])throw new Error(`AnySchema ${Z} is loaded but ${te} cannot be resolved`)}function R(Z){return j.apply(this,arguments)}function j(){return(j=r(function*(Z){const te=yield V.call(this,Z);this.refs[Z]||(yield J.call(this,te.$schema)),this.refs[Z]||this.addSchema(te,Z,N)})).apply(this,arguments)}function V(Z){return G.apply(this,arguments)}function G(){return(G=r(function*(Z){const te=this._loading[Z];if(te)return te;try{return yield this._loading[Z]=a(Z)}finally{delete this._loading[Z]}})).apply(this,arguments)}}addSchema(I,N,a,f=this.opts.validateSchema){if(Array.isArray(I)){for(const J of I)this.addSchema(J,void 0,a,f);return this}let M;if("object"==typeof I){const{schemaId:J}=this.opts;if(M=I[J],void 0!==M&&"string"!=typeof M)throw new Error(`schema ${J} must be string`)}return N=(0,e.normalizeId)(N||M),this._checkUnique(N),this.schemas[N]=this._addSchema(I,a,N,f,!0),this}addMetaSchema(I,N,a=this.opts.validateSchema){return this.addSchema(I,N,!0,a),this}validateSchema(I,N){if("boolean"==typeof I)return!0;let a;if(a=I.$schema,void 0!==a&&"string"!=typeof a)throw new Error("$schema must be a string");if(a=a||this.opts.defaultMeta||this.defaultMeta(),!a)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const f=this.validate(a,I);if(!f&&N){const M="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(M);this.logger.error(M)}return f}getSchema(I){let N;for(;"string"==typeof(N=p.call(this,I));)I=N;if(void 0===N){const{schemaId:a}=this.opts,f=new m.SchemaEnv({schema:{},schemaId:a});if(N=m.resolveSchema.call(this,f,I),!N)return;this.refs[I]=N}return N.validate||this._compileSchemaEnv(N)}removeSchema(I){if(I instanceof RegExp)return this._removeAllSchemas(this.schemas,I),this._removeAllSchemas(this.refs,I),this;switch(typeof I){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const N=p.call(this,I);return"object"==typeof N&&this._cache.delete(N.schema),delete this.schemas[I],delete this.refs[I],this}case"object":{this._cache.delete(I);let a=I[this.opts.schemaId];return a&&(a=(0,e.normalizeId)(a),delete this.schemas[a],delete this.refs[a]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(I){for(const N of I)this.addKeyword(N);return this}addKeyword(I,N){let a;if("string"==typeof I)a=I,"object"==typeof N&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),N.keyword=a);else{if("object"!=typeof I||void 0!==N)throw new Error("invalid addKeywords parameters");if(a=(N=I).keyword,Array.isArray(a)&&!a.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(ee.call(this,a,N),!N)return(0,w.eachItem)(a,M=>X.call(this,M)),this;W.call(this,N);const f={...N,type:(0,_.getJSONTypes)(N.type),schemaType:(0,_.getJSONTypes)(N.schemaType)};return(0,w.eachItem)(a,0===f.type.length?M=>X.call(this,M,f):M=>f.type.forEach(J=>X.call(this,M,f,J))),this}getKeyword(I){const N=this.RULES.all[I];return"object"==typeof N?N.definition:!!N}removeKeyword(I){const{RULES:N}=this;delete N.keywords[I],delete N.all[I];for(const a of N.rules){const f=a.rules.findIndex(M=>M.keyword===I);f>=0&&a.rules.splice(f,1)}return this}addFormat(I,N){return"string"==typeof N&&(N=new RegExp(N)),this.formats[I]=N,this}errorsText(I=this.errors,{separator:N=", ",dataVar:a="data"}={}){return I&&0!==I.length?I.map(f=>`${a}${f.instancePath} ${f.message}`).reduce((f,M)=>f+N+M):"No errors"}$dataMetaSchema(I,N){const a=this.RULES.all;I=JSON.parse(JSON.stringify(I));for(const f of N){const M=f.split("/").slice(1);let J=I;for(const x of M)J=J[x];for(const x in a){const ne=a[x];if("object"!=typeof ne)continue;const{$data:Ee}=ne.definition,Se=J[x];Ee&&Se&&(J[x]=fe(Se))}}return I}_removeAllSchemas(I,N){for(const a in I){const f=I[a];(!N||N.test(a))&&("string"==typeof f?delete I[a]:f&&!f.meta&&(this._cache.delete(f.schema),delete I[a]))}}_addSchema(I,N,a,f=this.opts.validateSchema,M=this.opts.addUsedSchema){let J;const{schemaId:x}=this.opts;if("object"==typeof I)J=I[x];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof I)throw new Error("schema must be object or boolean")}let ne=this._cache.get(I);if(void 0!==ne)return ne;a=(0,e.normalizeId)(J||a);const Ee=e.getSchemaRefs.call(this,I,a);return ne=new m.SchemaEnv({schema:I,schemaId:x,meta:N,baseId:a,localRefs:Ee}),this._cache.set(ne.schema,ne),M&&!a.startsWith("#")&&(a&&this._checkUnique(a),this.refs[a]=ne),f&&this.validateSchema(I,!0),ne}_checkUnique(I){if(this.schemas[I]||this.refs[I])throw new Error(`schema with key or id "${I}" already exists`)}_compileSchemaEnv(I){if(I.meta?this._compileMetaSchema(I):m.compileSchema.call(this,I),!I.validate)throw new Error("ajv implementation error");return I.validate}_compileMetaSchema(I){const N=this.opts;this.opts=this._metaOpts;try{m.compileSchema.call(this,I)}finally{this.opts=N}}}function g(H,I,N,a="error"){for(const f in H)f in I&&this.logger[a](`${N}: option ${f}. ${H[f]}`)}function p(H){return H=(0,e.normalizeId)(H),this.schemas[H]||this.refs[H]}function P(){const H=this.opts.schemas;if(H)if(Array.isArray(H))this.addSchema(H);else for(const I in H)this.addSchema(H[I],I)}function U(){for(const H in this.opts.formats){const I=this.opts.formats[H];I&&this.addFormat(H,I)}}function K(H){if(Array.isArray(H))this.addVocabulary(H);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const I in H){const N=H[I];N.keyword||(N.keyword=I),this.addKeyword(N)}}}function Q(){const H={...this.opts};for(const I of k)delete H[I];return H}t.default=C,C.ValidationError=h.default,C.MissingRefError=b.default;const B={log(){},warn(){},error(){}},z=/^[a-z_$][a-z0-9_$:-]*$/i;function ee(H,I){const{RULES:N}=this;if((0,w.eachItem)(H,a=>{if(N.keywords[a])throw new Error(`Keyword ${a} is already defined`);if(!z.test(a))throw new Error(`Keyword ${a} has invalid name`)}),I&&I.$data&&!("code"in I)&&!("validate"in I))throw new Error('$data keyword must have "code" or "validate" function')}function X(H,I,N){var a;const f=I?.post;if(N&&f)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:M}=this;let J=f?M.post:M.rules.find(({type:ne})=>ne===N);if(J||(J={type:N,rules:[]},M.rules.push(J)),M.keywords[H]=!0,!I)return;const x={keyword:H,definition:{...I,type:(0,_.getJSONTypes)(I.type),schemaType:(0,_.getJSONTypes)(I.schemaType)}};I.before?L.call(this,J,x,I.before):J.rules.push(x),M.all[H]=x,null===(a=I.implements)||void 0===a||a.forEach(ne=>this.addKeyword(ne))}function L(H,I,N){const a=H.rules.findIndex(f=>f.keyword===N);a>=0?H.rules.splice(a,0,I):(H.rules.push(I),this.logger.warn(`rule ${N} is not defined`))}function W(H){let{metaSchema:I}=H;void 0!==I&&(H.$data&&this.opts.$data&&(I=fe(I)),H.validateSchema=this.compile(I,!0))}const re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function fe(H){return{anyOf:[H,re]}}},4747:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(9818);r.code='require("ajv/dist/runtime/equal").default',t.default=r},1197:(Y,t)=>{"use strict";function o(r){const n=r.length;let b,y=0,h=0;for(;h<n;)y++,b=r.charCodeAt(h++),b>=55296&&b<=56319&&h<n&&(b=r.charCodeAt(h),56320==(64512&b)&&h++);return y}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,o.code='require("ajv/dist/runtime/ucs2length").default'},5573:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(6064);r.code='require("ajv/dist/runtime/uri").default',t.default=r},110:(Y,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}t.default=o},2952:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=o(117),n=o(8754),h={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>r.str`must NOT have more than ${i} items`,params:({params:{len:i}})=>r._`{limit: ${i}}`},code(i){const{parentSchema:m,it:s}=i,{items:e}=m;Array.isArray(e)?b(i,e):(0,n.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas')}};function b(i,m){const{gen:s,schema:e,data:_,keyword:w,it:O}=i;O.items=!0;const T=s.const("len",r._`${_}.length`);if(!1===e)i.setParams({len:m.length}),i.pass(r._`${T} <= ${m.length}`);else if("object"==typeof e&&!(0,n.alwaysValidSchema)(O,e)){const k=s.var("valid",r._`${T} <= ${m.length}`);s.if((0,r.not)(k),()=>function A(k){s.forRange("i",m.length,T,u=>{i.subschema({keyword:w,dataProp:u,dataPropType:n.Type.Num},k),O.allErrors||s.if((0,r.not)(k),()=>s.break())})}(k)),i.ok(k)}}t.validateAdditionalItems=b,t.default=h},746:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(9508),n=o(117),y=o(5631),h=o(8754);t.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:m})=>n._`{additionalProperty: ${m.additionalProperty}}`},code(m){const{gen:s,schema:e,parentSchema:_,data:w,errsCount:O,it:T}=m;if(!O)throw new Error("ajv implementation error");const{allErrors:A,opts:k}=T;if(T.props=!0,"all"!==k.removeAdditional&&(0,h.alwaysValidSchema)(T,e))return;const u=(0,r.allSchemaProperties)(_.properties),l=(0,r.allSchemaProperties)(_.patternProperties);function v(p){s.code(n._`delete ${w}[${p}]`)}function C(p){if("all"===k.removeAdditional||k.removeAdditional&&!1===e)v(p);else{if(!1===e)return m.setParams({additionalProperty:p}),m.error(),void(A||s.break());if("object"==typeof e&&!(0,h.alwaysValidSchema)(T,e)){const P=s.name("valid");"failing"===k.removeAdditional?(g(p,P,!1),s.if((0,n.not)(P),()=>{m.reset(),v(p)})):(g(p,P),A||s.if((0,n.not)(P),()=>s.break()))}}}function g(p,P,U){const K={keyword:"additionalProperties",dataProp:p,dataPropType:h.Type.Str};!1===U&&Object.assign(K,{compositeRule:!0,createErrors:!1,allErrors:!1}),m.subschema(K,P)}(function S(){s.forIn("key",w,p=>{u.length||l.length?s.if(function d(p){let P;if(u.length>8){const U=(0,h.schemaRefOrVal)(T,_.properties,"properties");P=(0,r.isOwnProperty)(s,U,p)}else P=u.length?(0,n.or)(...u.map(U=>n._`${p} === ${U}`)):n.nil;return l.length&&(P=(0,n.or)(P,...l.map(U=>n._`${(0,r.usePattern)(m,U)}.test(${p})`))),(0,n.not)(P)}(p),()=>C(p)):C(p)})})(),m.ok(n._`${O} === ${y.default.errors}`)}}},9466:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(8754);t.default={keyword:"allOf",schemaType:"array",code(y){const{gen:h,schema:b,it:i}=y;if(!Array.isArray(b))throw new Error("ajv implementation error");const m=h.name("valid");b.forEach((s,e)=>{if((0,r.alwaysValidSchema)(i,s))return;const _=y.subschema({keyword:"allOf",schemaProp:e},m);y.ok(m),y.mergeEvaluated(_)})}}},4651:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:o(9508).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=n},1006:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=o(8754);t.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:b,max:i}})=>void 0===i?r.str`must contain at least ${b} valid item(s)`:r.str`must contain at least ${b} and no more than ${i} valid item(s)`,params:({params:{min:b,max:i}})=>void 0===i?r._`{minContains: ${b}}`:r._`{minContains: ${b}, maxContains: ${i}}`},code(b){const{gen:i,schema:m,parentSchema:s,data:e,it:_}=b;let w,O;const{minContains:T,maxContains:A}=s;_.opts.next?(w=void 0===T?1:T,O=A):w=1;const k=i.const("len",r._`${e}.length`);if(b.setParams({min:w,max:O}),void 0===O&&0===w)return void(0,n.checkStrictMode)(_,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==O&&w>O)return(0,n.checkStrictMode)(_,'"minContains" > "maxContains" is always invalid'),void b.fail();if((0,n.alwaysValidSchema)(_,m)){let v=r._`${k} >= ${w}`;return void 0!==O&&(v=r._`${v} && ${k} <= ${O}`),void b.pass(v)}_.items=!0;const u=i.name("valid");function l(){const v=i.name("_valid"),C=i.let("count",0);S(v,()=>i.if(v,()=>function d(v){i.code(r._`${v}++`),void 0===O?i.if(r._`${v} >= ${w}`,()=>i.assign(u,!0).break()):(i.if(r._`${v} > ${O}`,()=>i.assign(u,!1).break()),1===w?i.assign(u,!0):i.if(r._`${v} >= ${w}`,()=>i.assign(u,!0)))}(C)))}function S(v,C){i.forRange("i",0,k,g=>{b.subschema({keyword:"contains",dataProp:g,dataPropType:n.Type.Num,compositeRule:!0},v),C()})}void 0===O&&1===w?S(u,()=>i.if(u,()=>i.break())):0===w?(i.let(u,!0),void 0!==O&&i.if(r._`${e}.length > 0`,l)):(i.let(u,!1),l()),b.result(u,()=>b.reset())}}},1804:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=o(117),n=o(8754),y=o(9508);t.error={message:({params:{property:s,depsCount:e,deps:_}})=>r.str`must have ${1===e?"property":"properties"} ${_} when property ${s} is present`,params:({params:{property:s,depsCount:e,deps:_,missingProperty:w}})=>r._`{property: ${s},
    missingProperty: ${w},
    depsCount: ${e},
    deps: ${_}}`};const h={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(s){const[e,_]=function b({schema:s}){const e={},_={};for(const w in s)"__proto__"!==w&&((Array.isArray(s[w])?e:_)[w]=s[w]);return[e,_]}(s);i(s,e),m(s,_)}};function i(s,e=s.schema){const{gen:_,data:w,it:O}=s;if(0===Object.keys(e).length)return;const T=_.let("missing");for(const A in e){const k=e[A];if(0===k.length)continue;const u=(0,y.propertyInData)(_,w,A,O.opts.ownProperties);s.setParams({property:A,depsCount:k.length,deps:k.join(", ")}),O.allErrors?_.if(u,()=>{for(const l of k)(0,y.checkReportMissingProp)(s,l)}):(_.if(r._`${u} && (${(0,y.checkMissingProp)(s,k,T)})`),(0,y.reportMissingProp)(s,T),_.else())}}function m(s,e=s.schema){const{gen:_,data:w,keyword:O,it:T}=s,A=_.name("valid");for(const k in e)(0,n.alwaysValidSchema)(T,e[k])||(_.if((0,y.propertyInData)(_,w,k,T.opts.ownProperties),()=>{const u=s.subschema({keyword:O,schemaProp:k},A);s.mergeValidEvaluated(u,A)},()=>_.var(A,!0)),s.ok(A))}t.validatePropertyDeps=i,t.validateSchemaDeps=m,t.default=h},486:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=o(8754);function b(i,m){const s=i.schema[m];return void 0!==s&&!(0,n.alwaysValidSchema)(i,s)}t.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>r.str`must match "${i.ifClause}" schema`,params:({params:i})=>r._`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:m,parentSchema:s,it:e}=i;void 0===s.then&&void 0===s.else&&(0,n.checkStrictMode)(e,'"if" without "then" and "else" is ignored');const _=b(e,"then"),w=b(e,"else");if(!_&&!w)return;const O=m.let("valid",!0),T=m.name("_valid");if(function A(){const u=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},T);i.mergeEvaluated(u)}(),i.reset(),_&&w){const u=m.let("ifClause");i.setParams({ifClause:u}),m.if(T,k("then",u),k("else",u))}else _?m.if(T,k("then")):m.if((0,r.not)(T),k("else"));function k(u,l){return()=>{const S=i.subschema({keyword:u},T);m.assign(O,T),i.mergeValidEvaluated(S,O),l?m.assign(l,r._`${u}`):i.setParams({ifClause:u})}}i.pass(O,()=>i.error(!0))}}},9845:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(2952),n=o(5281),y=o(3013),h=o(3691),b=o(1006),i=o(1804),m=o(7110),s=o(746),e=o(2505),_=o(7655),w=o(603),O=o(4651),T=o(312),A=o(9466),k=o(486),u=o(632);t.default=function l(S=!1){const d=[w.default,O.default,T.default,A.default,k.default,u.default,m.default,s.default,i.default,e.default,_.default];return S?d.push(n.default,h.default):d.push(r.default,y.default),d.push(b.default),d}},3013:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=o(117),n=o(8754),y=o(9508),h={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:m,it:s}=i;if(Array.isArray(m))return b(i,"additionalItems",m);s.items=!0,!(0,n.alwaysValidSchema)(s,m)&&i.ok((0,y.validateArray)(i))}};function b(i,m,s=i.schema){const{gen:e,parentSchema:_,data:w,keyword:O,it:T}=i;(function u(l){const{opts:S,errSchemaPath:d}=T,v=s.length;S.strictTuples&&!(v===l.minItems&&(v===l.maxItems||!1===l[m]))&&(0,n.checkStrictMode)(T,`"${O}" is ${v}-tuple, but minItems or maxItems/${m} are not specified or different at path "${d}"`,S.strictTuples)})(_),T.opts.unevaluated&&s.length&&!0!==T.items&&(T.items=n.mergeEvaluated.items(e,s.length,T.items));const A=e.name("valid"),k=e.const("len",r._`${w}.length`);s.forEach((l,S)=>{(0,n.alwaysValidSchema)(T,l)||(e.if(r._`${k} > ${S}`,()=>i.subschema({keyword:O,schemaProp:S,dataProp:S},A)),i.ok(A))})}t.validateTuple=b,t.default=h},3691:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=o(8754),y=o(9508),h=o(2952);t.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:m}})=>r.str`must NOT have more than ${m} items`,params:({params:{len:m}})=>r._`{limit: ${m}}`},code(m){const{schema:s,parentSchema:e,it:_}=m,{prefixItems:w}=e;_.items=!0,!(0,n.alwaysValidSchema)(_,s)&&(w?(0,h.validateAdditionalItems)(m,w):m.ok((0,y.validateArray)(m)))}}},603:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(8754);t.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(y){const{gen:h,schema:b,it:i}=y;if((0,r.alwaysValidSchema)(i,b))return void y.fail();const m=h.name("valid");y.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},m),y.failResult(m,()=>y.reset(),()=>y.error())},error:{message:"must NOT be valid"}}},312:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=o(8754);t.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:b})=>r._`{passingSchemas: ${b.passing}}`},code(b){const{gen:i,schema:m,parentSchema:s,it:e}=b;if(!Array.isArray(m))throw new Error("ajv implementation error");if(e.opts.discriminator&&s.discriminator)return;const _=m,w=i.let("valid",!1),O=i.let("passing",null),T=i.name("_valid");b.setParams({passing:O}),i.block(function A(){_.forEach((k,u)=>{let l;(0,n.alwaysValidSchema)(e,k)?i.var(T,!0):l=b.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},T),u>0&&i.if(r._`${T} && ${w}`).assign(w,!1).assign(O,r._`[${O}, ${u}]`).else(),i.if(T,()=>{i.assign(w,!0),i.assign(O,u),l&&b.mergeEvaluated(l,r.Name)})})}),b.result(w,()=>b.reset(),()=>b.error(!0))}}},7655:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(9508),n=o(117),y=o(8754),h=o(8754);t.default={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:m,schema:s,data:e,parentSchema:_,it:w}=i,{opts:O}=w,T=(0,r.allSchemaProperties)(s),A=T.filter(C=>(0,y.alwaysValidSchema)(w,s[C]));if(0===T.length||A.length===T.length&&(!w.opts.unevaluated||!0===w.props))return;const k=O.strictSchema&&!O.allowMatchingProperties&&_.properties,u=m.name("valid");!0!==w.props&&!(w.props instanceof n.Name)&&(w.props=(0,h.evaluatedPropsToName)(m,w.props));const{props:l}=w;function d(C){for(const g in k)new RegExp(C).test(g)&&(0,y.checkStrictMode)(w,`property ${g} matches pattern ${C} (use allowMatchingProperties)`)}function v(C){m.forIn("key",e,g=>{m.if(n._`${(0,r.usePattern)(i,C)}.test(${g})`,()=>{const p=A.includes(C);p||i.subschema({keyword:"patternProperties",schemaProp:C,dataProp:g,dataPropType:h.Type.Str},u),w.opts.unevaluated&&!0!==l?m.assign(n._`${l}[${g}]`,!0):!p&&!w.allErrors&&m.if((0,n.not)(u),()=>m.break())})})}!function S(){for(const C of T)k&&d(C),w.allErrors?v(C):(m.var(u,!0),v(C),m.if(u))}()}}},5281:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(3013);t.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:y=>(0,r.validateTuple)(y,"items")}},2505:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(2175),n=o(9508),y=o(8754),h=o(746);t.default={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:m,schema:s,parentSchema:e,data:_,it:w}=i;"all"===w.opts.removeAdditional&&void 0===e.additionalProperties&&h.default.code(new r.KeywordCxt(w,h.default,"additionalProperties"));const O=(0,n.allSchemaProperties)(s);for(const l of O)w.definedProperties.add(l);w.opts.unevaluated&&O.length&&!0!==w.props&&(w.props=y.mergeEvaluated.props(m,(0,y.toHash)(O),w.props));const T=O.filter(l=>!(0,y.alwaysValidSchema)(w,s[l]));if(0===T.length)return;const A=m.name("valid");for(const l of T)k(l)?u(l):(m.if((0,n.propertyInData)(m,_,l,w.opts.ownProperties)),u(l),w.allErrors||m.else().var(A,!0),m.endIf()),i.it.definedProperties.add(l),i.ok(A);function k(l){return w.opts.useDefaults&&!w.compositeRule&&void 0!==s[l].default}function u(l){i.subschema({keyword:"properties",schemaProp:l,dataProp:l},A)}}}},7110:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=o(8754);t.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:b})=>r._`{propertyName: ${b.propertyName}}`},code(b){const{gen:i,schema:m,data:s,it:e}=b;if((0,n.alwaysValidSchema)(e,m))return;const _=i.name("valid");i.forIn("key",s,w=>{b.setParams({propertyName:w}),b.subschema({keyword:"propertyNames",data:w,dataTypes:["string"],propertyName:w,compositeRule:!0},_),i.if((0,r.not)(_),()=>{b.error(!0),e.allErrors||i.break()})}),b.ok(_)}}},632:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(8754);t.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:y,parentSchema:h,it:b}){void 0===h.if&&(0,r.checkStrictMode)(b,`"${y}" without "if" is ignored`)}}},9508:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=o(117),n=o(8754),y=o(5631),h=o(8754);function s(d){return d.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function e(d,v,C){return r._`${s(d)}.call(${v}, ${C})`}function w(d,v,C,g){const p=r._`${v}${(0,r.getProperty)(C)} === undefined`;return g?(0,r.or)(p,(0,r.not)(e(d,v,C))):p}function O(d){return d?Object.keys(d).filter(v=>"__proto__"!==v):[]}t.checkReportMissingProp=function b(d,v){const{gen:C,data:g,it:p}=d;C.if(w(C,g,v,p.opts.ownProperties),()=>{d.setParams({missingProperty:r._`${v}`},!0),d.error()})},t.checkMissingProp=function i({gen:d,data:v,it:{opts:C}},g,p){return(0,r.or)(...g.map(P=>(0,r.and)(w(d,v,P,C.ownProperties),r._`${p} = ${P}`)))},t.reportMissingProp=function m(d,v){d.setParams({missingProperty:v},!0),d.error()},t.hasPropFunc=s,t.isOwnProperty=e,t.propertyInData=function _(d,v,C,g){const p=r._`${v}${(0,r.getProperty)(C)} !== undefined`;return g?r._`${p} && ${e(d,v,C)}`:p},t.noPropertyInData=w,t.allSchemaProperties=O,t.schemaProperties=function T(d,v){return O(v).filter(C=>!(0,n.alwaysValidSchema)(d,v[C]))},t.callValidateCode=function A({schemaCode:d,data:v,it:{gen:C,topSchemaRef:g,schemaPath:p,errorPath:P},it:U},K,Q,B){const ce=B?r._`${d}, ${v}, ${g}${p}`:v,z=[[y.default.instancePath,(0,r.strConcat)(y.default.instancePath,P)],[y.default.parentData,U.parentData],[y.default.parentDataProperty,U.parentDataProperty],[y.default.rootData,y.default.rootData]];U.opts.dynamicRef&&z.push([y.default.dynamicAnchors,y.default.dynamicAnchors]);const ee=r._`${ce}, ${C.object(...z)}`;return Q!==r.nil?r._`${K}.call(${Q}, ${ee})`:r._`${K}(${ee})`};const k=r._`new RegExp`;t.usePattern=function u({gen:d,it:{opts:v}},C){const g=v.unicodeRegExp?"u":"",{regExp:p}=v.code,P=p(C,g);return d.scopeValue("pattern",{key:P.toString(),ref:P,code:r._`${"new RegExp"===p.code?k:(0,h.useFunc)(d,p)}(${C}, ${g})`})},t.validateArray=function l(d){const{gen:v,data:C,keyword:g,it:p}=d,P=v.name("valid");if(p.allErrors){const K=v.let("valid",!0);return U(()=>v.assign(K,!1)),K}return v.var(P,!0),U(()=>v.break()),P;function U(K){const Q=v.const("len",r._`${C}.length`);v.forRange("i",0,Q,B=>{d.subschema({keyword:g,dataProp:B,dataPropType:n.Type.Num},P),v.if((0,r.not)(P),K)})}},t.validateUnion=function S(d){const{gen:v,schema:C,keyword:g,it:p}=d;if(!Array.isArray(C))throw new Error("ajv implementation error");if(C.some(Q=>(0,n.alwaysValidSchema)(p,Q))&&!p.opts.unevaluated)return;const U=v.let("valid",!1),K=v.name("_valid");v.block(()=>C.forEach((Q,B)=>{const ce=d.subschema({keyword:g,schemaProp:B,compositeRule:!0},K);v.assign(U,r._`${U} || ${K}`),d.mergeValidEvaluated(ce,K)||v.if((0,r.not)(U))})),d.result(U,()=>d.reset(),()=>d.error(!0))}},1141:(Y,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},4402:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(1141),n=o(6119);t.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,n.default]},6119:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=o(5695),n=o(9508),y=o(117),h=o(5631),b=o(4317),i=o(8754),m={keyword:"$ref",schemaType:"string",code(_){const{gen:w,schema:O,it:T}=_,{baseId:A,schemaEnv:k,validateName:u,opts:l,self:S}=T,{root:d}=k;if(("#"===O||"#/"===O)&&A===d.baseId)return function C(){if(k===d)return e(_,u,k,k.$async);const P=w.scopeValue("root",{ref:d});return e(_,y._`${P}.validate`,d,d.$async)}();const v=b.resolveRef.call(S,d,A,O);if(void 0===v)throw new r.default(T.opts.uriResolver,A,O);return v instanceof b.SchemaEnv?function g(P){const U=s(_,P);e(_,U,P,P.$async)}(v):function p(P){const U=w.scopeValue("schema",!0===l.code.source?{ref:P,code:(0,y.stringify)(P)}:{ref:P}),K=w.name("valid"),Q=_.subschema({schema:P,dataTypes:[],schemaPath:y.nil,topSchemaRef:U,errSchemaPath:O},K);_.mergeEvaluated(Q),_.ok(K)}(v)}};function s(_,w){const{gen:O}=_;return w.validate?O.scopeValue("validate",{ref:w.validate}):y._`${O.scopeValue("wrapper",{ref:w})}.validate`}function e(_,w,O,T){const{gen:A,it:k}=_,{allErrors:u,schemaEnv:l,opts:S}=k,d=S.passContext?h.default.this:y.nil;function g(P){const U=y._`${P}.errors`;A.assign(h.default.vErrors,y._`${h.default.vErrors} === null ? ${U} : ${h.default.vErrors}.concat(${U})`),A.assign(h.default.errors,y._`${h.default.vErrors}.length`)}function p(P){var U;if(!k.opts.unevaluated)return;const K=null===(U=O?.validate)||void 0===U?void 0:U.evaluated;if(!0!==k.props)if(K&&!K.dynamicProps)void 0!==K.props&&(k.props=i.mergeEvaluated.props(A,K.props,k.props));else{const Q=A.var("props",y._`${P}.evaluated.props`);k.props=i.mergeEvaluated.props(A,Q,k.props,y.Name)}if(!0!==k.items)if(K&&!K.dynamicItems)void 0!==K.items&&(k.items=i.mergeEvaluated.items(A,K.items,k.items));else{const Q=A.var("items",y._`${P}.evaluated.items`);k.items=i.mergeEvaluated.items(A,Q,k.items,y.Name)}}T?function v(){if(!l.$async)throw new Error("async schema referenced by sync schema");const P=A.let("valid");A.try(()=>{A.code(y._`await ${(0,n.callValidateCode)(_,w,d)}`),p(w),u||A.assign(P,!0)},U=>{A.if(y._`!(${U} instanceof ${k.ValidationError})`,()=>A.throw(U)),g(U),u||A.assign(P,!1)}),_.ok(P)}():function C(){_.result((0,n.callValidateCode)(_,w,d),()=>p(w),()=>g(w))}()}t.getValidate=s,t.callRef=e,t.default=m},6081:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=o(5746),y=o(4317),h=o(8754);t.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:m,tagName:s}})=>m===n.DiscrError.Tag?`tag "${s}" must be string`:`value of tag "${s}" must be in oneOf`,params:({params:{discrError:m,tag:s,tagName:e}})=>r._`{error: ${m}, tag: ${e}, tagValue: ${s}}`},code(m){const{gen:s,data:e,schema:_,parentSchema:w,it:O}=m,{oneOf:T}=w;if(!O.opts.discriminator)throw new Error("discriminator: requires discriminator option");const A=_.propertyName;if("string"!=typeof A)throw new Error("discriminator: requires propertyName");if(_.mapping)throw new Error("discriminator: mapping is not supported");if(!T)throw new Error("discriminator: requires oneOf keyword");const k=s.let("valid",!1),u=s.const("tag",r._`${e}${(0,r.getProperty)(A)}`);function S(v){const C=s.name("valid"),g=m.subschema({keyword:"oneOf",schemaProp:v},C);return m.mergeEvaluated(g,r.Name),C}s.if(r._`typeof ${u} == "string"`,()=>function l(){const v=function d(){var v;const C={},g=P(w);let p=!0;for(let Q=0;Q<T.length;Q++){let B=T[Q];B?.$ref&&!(0,h.schemaHasRulesButRef)(B,O.self.RULES)&&(B=y.resolveRef.call(O.self,O.schemaEnv.root,O.baseId,B?.$ref),B instanceof y.SchemaEnv&&(B=B.schema));const ce=null===(v=B?.properties)||void 0===v?void 0:v[A];if("object"!=typeof ce)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${A}"`);p=p&&(g||P(B)),U(ce,Q)}if(!p)throw new Error(`discriminator: "${A}" must be required`);return C;function P({required:Q}){return Array.isArray(Q)&&Q.includes(A)}function U(Q,B){if(Q.const)K(Q.const,B);else{if(!Q.enum)throw new Error(`discriminator: "properties/${A}" must have "const" or "enum"`);for(const ce of Q.enum)K(ce,B)}}function K(Q,B){if("string"!=typeof Q||Q in C)throw new Error(`discriminator: "${A}" values must be unique strings`);C[Q]=B}}();s.if(!1);for(const C in v)s.elseIf(r._`${u} === ${C}`),s.assign(k,S(v[C]));s.else(),m.error(!1,{discrError:n.DiscrError.Mapping,tag:u,tagName:A}),s.endIf()}(),()=>m.error(!1,{discrError:n.DiscrError.Tag,tag:u,tagName:A})),m.ok(k)}}},5746:(Y,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(r=t.DiscrError||(t.DiscrError={})).Tag="tag",r.Mapping="mapping"},8677:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(4402),n=o(1495),y=o(9845),h=o(2389),b=o(836),i=[r.default,n.default,(0,y.default)(),h.default,b.metadataVocabulary,b.contentVocabulary];t.default=i},229:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117);t.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:h})=>r.str`must match format "${h}"`,params:({schemaCode:h})=>r._`{format: ${h}}`},code(h,b){const{gen:i,data:m,$data:s,schema:e,schemaCode:_,it:w}=h,{opts:O,errSchemaPath:T,schemaEnv:A,self:k}=w;O.validateFormats&&(s?function u(){const S=i.scopeValue("formats",{ref:k.formats,code:O.code.formats}),d=i.const("fDef",r._`${S}[${_}]`),v=i.let("fType"),C=i.let("format");i.if(r._`typeof ${d} == "object" && !(${d} instanceof RegExp)`,()=>i.assign(v,r._`${d}.type || "string"`).assign(C,r._`${d}.validate`),()=>i.assign(v,r._`"string"`).assign(C,d)),h.fail$data((0,r.or)(function g(){return!1===O.strictSchema?r.nil:r._`${_} && !${C}`}(),function p(){const P=A.$async?r._`(${d}.async ? await ${C}(${m}) : ${C}(${m}))`:r._`${C}(${m})`,U=r._`(typeof ${C} == "function" ? ${P} : ${C}.test(${m}))`;return r._`${C} && ${C} !== true && ${v} === ${b} && !${U}`}()))}():function l(){const S=k.formats[e];if(!S)return void function g(){if(!1!==O.strictSchema)throw new Error(U());function U(){return`unknown format "${e}" ignored in schema at path "${T}"`}k.logger.warn(U())}();if(!0===S)return;const[d,v,C]=function p(U){const K=U instanceof RegExp?(0,r.regexpCode)(U):O.code.formats?r._`${O.code.formats}${(0,r.getProperty)(e)}`:void 0,Q=i.scopeValue("formats",{key:e,ref:U,code:K});return"object"!=typeof U||U instanceof RegExp?["string",U,Q]:[U.type||"string",U.validate,r._`${Q}.validate`]}(S);d===b&&h.pass(function P(){if("object"==typeof S&&!(S instanceof RegExp)&&S.async){if(!A.$async)throw new Error("async format in sync schema");return r._`await ${C}(${m})`}return"function"==typeof v?r._`${C}(${m})`:r._`${C}.test(${m})`}())}())}}},2389:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[o(229).default];t.default=n},836:(Y,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},6316:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=o(8754),y=o(4747);t.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>r._`{allowedValue: ${i}}`},code(i){const{gen:m,data:s,$data:e,schemaCode:_,schema:w}=i;e||w&&"object"==typeof w?i.fail$data(r._`!${(0,n.useFunc)(m,y.default)}(${s}, ${_})`):i.fail(r._`${w} !== ${s}`)}}},8618:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=o(8754),y=o(4747);t.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>r._`{allowedValues: ${i}}`},code(i){const{gen:m,data:s,$data:e,schema:_,schemaCode:w,it:O}=i;if(!e&&0===_.length)throw new Error("enum must have non-empty array");let A;const k=()=>A??(A=(0,n.useFunc)(m,y.default));let u;if(_.length>=O.opts.loopEnum||e)u=m.let("valid"),i.block$data(u,function l(){m.assign(u,!1),m.forOf("v",w,d=>m.if(r._`${k()}(${s}, ${d})`,()=>m.assign(u,!0).break()))});else{if(!Array.isArray(_))throw new Error("ajv implementation error");const d=m.const("vSchema",w);u=(0,r.or)(..._.map((v,C)=>function S(d,v){const C=_[v];return"object"==typeof C&&null!==C?r._`${k()}(${s}, ${d}[${v}])`:r._`${s} === ${C}`}(d,C)))}i.pass(u)}}},1495:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(9587),n=o(9896),y=o(3260),h=o(216),b=o(9726),i=o(363),m=o(507),s=o(7143),e=o(6316),_=o(8618);t.default=[r.default,n.default,y.default,h.default,b.default,i.default,m.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},e.default,_.default]},507:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117);t.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:h,schemaCode:b})=>r.str`must NOT have ${"maxItems"===h?"more":"fewer"} than ${b} items`,params:({schemaCode:h})=>r._`{limit: ${h}}`},code(h){const{keyword:b,data:i,schemaCode:m}=h;h.fail$data(r._`${i}.length ${"maxItems"===b?r.operators.GT:r.operators.LT} ${m}`)}}},3260:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=o(8754),y=o(1197);t.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:i,schemaCode:m})=>r.str`must NOT have ${"maxLength"===i?"more":"fewer"} than ${m} characters`,params:({schemaCode:i})=>r._`{limit: ${i}}`},code(i){const{keyword:m,data:s,schemaCode:e,it:_}=i,w="maxLength"===m?r.operators.GT:r.operators.LT,O=!1===_.opts.unicode?r._`${s}.length`:r._`${(0,n.useFunc)(i.gen,y.default)}(${s})`;i.fail$data(r._`${O} ${w} ${e}`)}}},9587:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117),n=r.operators,y={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},h={message:({keyword:i,schemaCode:m})=>r.str`must be ${y[i].okStr} ${m}`,params:({keyword:i,schemaCode:m})=>r._`{comparison: ${y[i].okStr}, limit: ${m}}`},b={keyword:Object.keys(y),type:"number",schemaType:"number",$data:!0,error:h,code(i){const{keyword:m,data:s,schemaCode:e}=i;i.fail$data(r._`${s} ${y[m].fail} ${e} || isNaN(${s})`)}};t.default=b},9726:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117);t.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:h,schemaCode:b})=>r.str`must NOT have ${"maxProperties"===h?"more":"fewer"} than ${b} properties`,params:({schemaCode:h})=>r._`{limit: ${h}}`},code(h){const{keyword:b,data:i,schemaCode:m}=h;h.fail$data(r._`Object.keys(${i}).length ${"maxProperties"===b?r.operators.GT:r.operators.LT} ${m}`)}}},9896:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(117);t.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:h})=>r.str`must be multiple of ${h}`,params:({schemaCode:h})=>r._`{multipleOf: ${h}}`},code(h){const{gen:b,data:i,schemaCode:m,it:s}=h,e=s.opts.multipleOfPrecision,_=b.let("res"),w=e?r._`Math.abs(Math.round(${_}) - ${_}) > 1e-${e}`:r._`${_} !== parseInt(${_})`;h.fail$data(r._`(${m} === 0 || (${_} = ${i}/${m}, ${w}))`)}}},216:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(9508),n=o(117);t.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:b})=>n.str`must match pattern "${b}"`,params:({schemaCode:b})=>n._`{pattern: ${b}}`},code(b){const{data:i,$data:m,schema:s,schemaCode:e,it:_}=b,O=m?n._`(new RegExp(${e}, ${_.opts.unicodeRegExp?"u":""}))`:(0,r.usePattern)(b,s);b.fail$data(n._`!${O}.test(${i})`)}}},363:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(9508),n=o(117),y=o(8754);t.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>n.str`must have required property '${i}'`,params:({params:{missingProperty:i}})=>n._`{missingProperty: ${i}}`},code(i){const{gen:m,schema:s,schemaCode:e,data:_,$data:w,it:O}=i,{opts:T}=O;if(!w&&0===s.length)return;const A=s.length>=T.loopRequired;if(O.allErrors?function k(){if(A||w)i.block$data(n.nil,l);else for(const d of s)(0,r.checkReportMissingProp)(i,d)}():function u(){const d=m.let("missing");if(A||w){const v=m.let("valid",!0);i.block$data(v,()=>function S(d,v){i.setParams({missingProperty:d}),m.forOf(d,e,()=>{m.assign(v,(0,r.propertyInData)(m,_,d,T.ownProperties)),m.if((0,n.not)(v),()=>{i.error(),m.break()})},n.nil)}(d,v)),i.ok(v)}else m.if((0,r.checkMissingProp)(i,s,d)),(0,r.reportMissingProp)(i,d),m.else()}(),T.strictRequired){const d=i.parentSchema.properties,{definedProperties:v}=i.it;for(const C of s)void 0!==d?.[C]||v.has(C)||(0,y.checkStrictMode)(O,`required property "${C}" is not defined at "${O.schemaEnv.baseId+O.errSchemaPath}" (strictRequired)`,O.opts.strictRequired)}function l(){m.forOf("prop",e,d=>{i.setParams({missingProperty:d}),m.if((0,r.noPropertyInData)(m,_,d,T.ownProperties),()=>i.error())})}}}},7143:(Y,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(4730),n=o(117),y=o(8754),h=o(4747);t.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:m,j:s}})=>n.str`must NOT have duplicate items (items ## ${s} and ${m} are identical)`,params:({params:{i:m,j:s}})=>n._`{i: ${m}, j: ${s}}`},code(m){const{gen:s,data:e,$data:_,schema:w,parentSchema:O,schemaCode:T,it:A}=m;if(!_&&!w)return;const k=s.let("valid"),u=O.items?(0,r.getSchemaTypes)(O.items):[];function d(C,g){const p=s.name("item"),P=(0,r.checkDataTypes)(u,p,A.opts.strictNumbers,r.DataType.Wrong),U=s.const("indices",n._`{}`);s.for(n._`;${C}--;`,()=>{s.let(p,n._`${e}[${C}]`),s.if(P,n._`continue`),u.length>1&&s.if(n._`typeof ${p} == "string"`,n._`${p} += "_"`),s.if(n._`typeof ${U}[${p}] == "number"`,()=>{s.assign(g,n._`${U}[${p}]`),m.error(),s.assign(k,!1).break()}).code(n._`${U}[${p}] = ${C}`)})}function v(C,g){const p=(0,y.useFunc)(s,h.default),P=s.name("outer");s.label(P).for(n._`;${C}--;`,()=>s.for(n._`${g} = ${C}; ${g}--;`,()=>s.if(n._`${p}(${e}[${C}], ${e}[${g}])`,()=>{m.error(),s.assign(k,!1).break(P)})))}m.block$data(k,function l(){const C=s.let("i",n._`${e}.length`),g=s.let("j");m.setParams({i:C,j:g}),s.assign(k,!0),s.if(n._`${C} > 1`,()=>(function S(){return u.length>0&&!u.some(C=>"object"===C||"array"===C)}()?d:v)(C,g))},n._`${T} === false`),m.ok(k)}}},9818:Y=>{"use strict";Y.exports=function t(o,r){if(o===r)return!0;if(o&&r&&"object"==typeof o&&"object"==typeof r){if(o.constructor!==r.constructor)return!1;var n,y,h;if(Array.isArray(o)){if((n=o.length)!=r.length)return!1;for(y=n;0!=y--;)if(!t(o[y],r[y]))return!1;return!0}if(o.constructor===RegExp)return o.source===r.source&&o.flags===r.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===r.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===r.toString();if((n=(h=Object.keys(o)).length)!==Object.keys(r).length)return!1;for(y=n;0!=y--;)if(!Object.prototype.hasOwnProperty.call(r,h[y]))return!1;for(y=n;0!=y--;){var b=h[y];if(!t(o[b],r[b]))return!1}return!0}return o!=o&&r!=r}},7037:Y=>{"use strict";var t=Y.exports=function(n,y,h){"function"==typeof y&&(h=y,y={}),o(y,"function"==typeof(h=y.cb||h)?h:h.pre||function(){},h.post||function(){},n,"",n)};function o(n,y,h,b,i,m,s,e,_,w){if(b&&"object"==typeof b&&!Array.isArray(b)){for(var O in y(b,i,m,s,e,_,w),b){var T=b[O];if(Array.isArray(T)){if(O in t.arrayKeywords)for(var A=0;A<T.length;A++)o(n,y,h,T[A],i+"/"+O+"/"+A,m,i,O,b,A)}else if(O in t.propsKeywords){if(T&&"object"==typeof T)for(var k in T)o(n,y,h,T[k],i+"/"+O+"/"+r(k),m,i,O,b,k)}else(O in t.keywords||n.allKeys&&!(O in t.skipKeywords))&&o(n,y,h,T,i+"/"+O,m,i,O,b)}h(b,i,m,s,e,_,w)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},6064:function(Y,t){!function(o){"use strict";function r(){for(var $=arguments.length,c=Array($),E=0;E<$;E++)c[E]=arguments[E];if(c.length>1){c[0]=c[0].slice(0,-1);for(var D=c.length-1,F=1;F<D;++F)c[F]=c[F].slice(1,-1);return c[D]=c[D].slice(1),c.join("")}return c[0]}function n($){return"(?:"+$+")"}function y($){return void 0===$?"undefined":null===$?"null":Object.prototype.toString.call($).split(" ").pop().split("]").shift().toLowerCase()}function h($){return $.toUpperCase()}function m($){var c="[A-Za-z]",D="[0-9]",q=r(D,"[A-Fa-f]"),ue=n(n("%[EFef]"+q+"%"+q+q+"%"+q+q)+"|"+n("%[89A-Fa-f]"+q+"%"+q+q)+"|"+n("%"+q+q)),oe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ge=r("[\\:\\/\\?\\#\\[\\]\\@]",oe),he=$?"[\\uE000-\\uF8FF]":"[]",ie=r(c,D,"[\\-\\.\\_\\~]",$?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),ye=n(c+r(c,D,"[\\+\\-\\.]")+"*"),le=n(n(ue+"|"+r(ie,oe,"[\\:]"))+"*"),Ce=(n(n("25[0-5]")+"|"+n("2[0-4]"+D)+"|"+n("1"+D+D)+"|"+n("[1-9]"+D)+"|"+D),n(n("25[0-5]")+"|"+n("2[0-4]"+D)+"|"+n("1"+D+D)+"|"+n("0?[1-9]"+D)+"|0?0?"+D)),Te=n(Ce+"\\."+Ce+"\\."+Ce+"\\."+Ce),de=n(q+"{1,4}"),Ne=n(n(de+"\\:"+de)+"|"+Te),Ie=n(n(de+"\\:")+"{6}"+Ne),Re=n("\\:\\:"+n(de+"\\:")+"{5}"+Ne),ze=n(n(de)+"?\\:\\:"+n(de+"\\:")+"{4}"+Ne),je=n(n(n(de+"\\:")+"{0,1}"+de)+"?\\:\\:"+n(de+"\\:")+"{3}"+Ne),xe=n(n(n(de+"\\:")+"{0,2}"+de)+"?\\:\\:"+n(de+"\\:")+"{2}"+Ne),at=n(n(n(de+"\\:")+"{0,3}"+de)+"?\\:\\:"+de+"\\:"+Ne),ot=n(n(n(de+"\\:")+"{0,4}"+de)+"?\\:\\:"+Ne),Le=n(n(n(de+"\\:")+"{0,5}"+de)+"?\\:\\:"+de),Ze=n(n(n(de+"\\:")+"{0,6}"+de)+"?\\:\\:"),ke=n([Ie,Re,ze,je,xe,at,ot,Le,Ze].join("|")),Ge=n(n(ie+"|"+ue)+"+"),He=(n(ke+"\\%25"+Ge),n(ke+n("\\%25|\\%(?!"+q+"{2})")+Ge)),Rt=n("[vV]"+q+"+\\."+r(ie,oe,"[\\:]")+"+"),Mt=n("\\["+n(He+"|"+ke+"|"+Rt)+"\\]"),gt=n(n(ue+"|"+r(ie,oe))+"*"),et=n(Mt+"|"+Te+"(?!"+gt+")|"+gt),tt=n(D+"*"),yt=n(n(le+"@")+"?"+et+n("\\:"+tt)+"?"),rt=n(ue+"|"+r(ie,oe,"[\\:\\@]")),jt=n(rt+"*"),vt=n(rt+"+"),kt=n(n(ue+"|"+r(ie,oe,"[\\@]"))+"+"),De=n(n("\\/"+jt)+"*"),Je=n("\\/"+n(vt+De)+"?"),ut=n(kt+De),st=n(vt+De),Qe="(?!"+rt+")",Be=(n(De+"|"+Je+"|"+ut+"|"+st+"|"+Qe),n(n(rt+"|"+r("[\\/\\?]",he))+"*")),nt=n(n(rt+"|[\\/\\?]")+"*"),$t=n(n("\\/\\/"+yt+De)+"|"+Je+"|"+st+"|"+Qe),Dt=n(ye+"\\:"+$t+n("\\?"+Be)+"?"+n("\\#"+nt)+"?"),Ft=n(n("\\/\\/"+yt+De)+"|"+Je+"|"+ut+"|"+Qe),Ut=n(Ft+n("\\?"+Be)+"?"+n("\\#"+nt)+"?");return n(Dt+"|"+Ut),n(ye+"\\:"+$t+n("\\?"+Be)+"?"),n(n("\\/\\/("+n("("+le+")@")+"?("+et+")"+n("\\:("+tt+")")+"?)")+"?("+De+"|"+Je+"|"+st+"|"+Qe+")"),n("\\?("+Be+")"),n("\\#("+nt+")"),n(n("\\/\\/("+n("("+le+")@")+"?("+et+")"+n("\\:("+tt+")")+"?)")+"?("+De+"|"+Je+"|"+ut+"|"+Qe+")"),n("\\?("+Be+")"),n("\\#("+nt+")"),n(n("\\/\\/("+n("("+le+")@")+"?("+et+")"+n("\\:("+tt+")")+"?)")+"?("+De+"|"+Je+"|"+st+"|"+Qe+")"),n("\\?("+Be+")"),n("\\#("+nt+")"),n("("+le+")@"),n("\\:("+tt+")"),{NOT_SCHEME:new RegExp(r("[^]",c,D,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",ie,oe),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",ie,oe),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",ie,oe),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",ie,oe),"g"),NOT_QUERY:new RegExp(r("[^\\%]",ie,oe,"[\\:\\@\\/\\?]",he),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",ie,oe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",ie,oe),"g"),UNRESERVED:new RegExp(ie,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",ie,ge),"g"),PCT_ENCODED:new RegExp(ue,"g"),IPV4ADDRESS:new RegExp("^("+Te+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ke+")"+n(n("\\%25|\\%(?!"+q+"{2})")+"("+Ge+")")+"?\\]?$")}}var s=m(!1),e=m(!0),_=function(c,E){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return function $(c,E){var D=[],F=!0,q=!1,ae=void 0;try{for(var ue,se=c[Symbol.iterator]();!(F=(ue=se.next()).done)&&(D.push(ue.value),!E||D.length!==E);F=!0);}catch(_e){q=!0,ae=_e}finally{try{!F&&se.return&&se.return()}finally{if(q)throw ae}}return D}(c,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")},O=2147483647,T=36,C=/^xn--/,g=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},K=Math.floor,Q=String.fromCharCode;function B($){throw new RangeError(P[$])}function z($,c){var E=$.split("@"),D="";return E.length>1&&(D=E[0]+"@",$=E[1]),D+function ce($,c){for(var E=[],D=$.length;D--;)E[D]=c($[D]);return E}(($=$.replace(p,".")).split("."),c).join(".")}function ee($){for(var c=[],E=0,D=$.length;E<D;){var F=$.charCodeAt(E++);if(F>=55296&&F<=56319&&E<D){var q=$.charCodeAt(E++);56320==(64512&q)?c.push(((1023&F)<<10)+(1023&q)+65536):(c.push(F),E--)}else c.push(F)}return c}var L=function(c){return c-48<10?c-22:c-65<26?c-65:c-97<26?c-97:T},W=function(c,E){return c+22+75*(c<26)-((0!=E)<<5)},re=function(c,E,D){var F=0;for(c=D?K(c/700):c>>1,c+=K(c/E);c>455;F+=T)c=K(c/35);return K(F+36*c/(c+38))},fe=function(c){var E=[],D=c.length,F=0,q=128,ae=72,se=c.lastIndexOf("-");se<0&&(se=0);for(var ue=0;ue<se;++ue)c.charCodeAt(ue)>=128&&B("not-basic"),E.push(c.charCodeAt(ue));for(var _e=se>0?se+1:0;_e<D;){for(var oe=F,ge=1,we=T;;we+=T){_e>=D&&B("invalid-input");var he=L(c.charCodeAt(_e++));(he>=T||he>K((O-F)/ge))&&B("overflow"),F+=he*ge;var ie=we<=ae?1:we>=ae+26?26:we-ae;if(he<ie)break;var ye=T-ie;ge>K(O/ye)&&B("overflow"),ge*=ye}var le=E.length+1;ae=re(F-oe,le,0==oe),K(F/le)>O-q&&B("overflow"),q+=K(F/le),F%=le,E.splice(F++,0,q)}return String.fromCodePoint.apply(String,E)},H=function(c){var E=[],D=(c=ee(c)).length,F=128,q=0,ae=72,se=!0,ue=!1,_e=void 0;try{for(var ge,oe=c[Symbol.iterator]();!(se=(ge=oe.next()).done);se=!0){var we=ge.value;we<128&&E.push(Q(we))}}catch(He){ue=!0,_e=He}finally{try{!se&&oe.return&&oe.return()}finally{if(ue)throw _e}}var he=E.length,ie=he;for(he&&E.push("-");ie<D;){var ye=O,le=!0,Ve=!1,Ce=void 0;try{for(var de,Te=c[Symbol.iterator]();!(le=(de=Te.next()).done);le=!0){var Ne=de.value;Ne>=F&&Ne<ye&&(ye=Ne)}}catch(He){Ve=!0,Ce=He}finally{try{!le&&Te.return&&Te.return()}finally{if(Ve)throw Ce}}var Ie=ie+1;ye-F>K((O-q)/Ie)&&B("overflow"),q+=(ye-F)*Ie,F=ye;var Re=!0,ze=!1,je=void 0;try{for(var at,xe=c[Symbol.iterator]();!(Re=(at=xe.next()).done);Re=!0){var ot=at.value;if(ot<F&&++q>O&&B("overflow"),ot==F){for(var Le=q,Ze=T;;Ze+=T){var ke=Ze<=ae?1:Ze>=ae+26?26:Ze-ae;if(Le<ke)break;var Ge=Le-ke,ct=T-ke;E.push(Q(W(ke+Ge%ct,0))),Le=K(Ge/ct)}E.push(Q(W(Le,0))),ae=re(q,Ie,ie==he),q=0,++ie}}}catch(He){ze=!0,je=He}finally{try{!Re&&xe.return&&xe.return()}finally{if(ze)throw je}}++q,++F}return E.join("")},a={version:"2.1.0",ucs2:{decode:ee,encode:function(c){return String.fromCodePoint.apply(String,function($){if(Array.isArray($)){for(var c=0,E=Array($.length);c<$.length;c++)E[c]=$[c];return E}return Array.from($)}(c))}},decode:fe,encode:H,toASCII:function(c){return z(c,function(E){return g.test(E)?"xn--"+H(E):E})},toUnicode:function(c){return z(c,function(E){return C.test(E)?fe(E.slice(4).toLowerCase()):E})}},f={};function M($){var c=$.charCodeAt(0);return c<16?"%0"+c.toString(16).toUpperCase():c<128?"%"+c.toString(16).toUpperCase():c<2048?"%"+(c>>6|192).toString(16).toUpperCase()+"%"+(63&c|128).toString(16).toUpperCase():"%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(63&c|128).toString(16).toUpperCase()}function J($){for(var c="",E=0,D=$.length;E<D;){var F=parseInt($.substr(E+1,2),16);if(F<128)c+=String.fromCharCode(F),E+=3;else if(F>=194&&F<224){if(D-E>=6){var q=parseInt($.substr(E+4,2),16);c+=String.fromCharCode((31&F)<<6|63&q)}else c+=$.substr(E,6);E+=6}else if(F>=224){if(D-E>=9){var ae=parseInt($.substr(E+4,2),16),se=parseInt($.substr(E+7,2),16);c+=String.fromCharCode((15&F)<<12|(63&ae)<<6|63&se)}else c+=$.substr(E,9);E+=9}else c+=$.substr(E,3),E+=3}return c}function x($,c){function E(D){var F=J(D);return F.match(c.UNRESERVED)?F:D}return $.scheme&&($.scheme=String($.scheme).replace(c.PCT_ENCODED,E).toLowerCase().replace(c.NOT_SCHEME,"")),void 0!==$.userinfo&&($.userinfo=String($.userinfo).replace(c.PCT_ENCODED,E).replace(c.NOT_USERINFO,M).replace(c.PCT_ENCODED,h)),void 0!==$.host&&($.host=String($.host).replace(c.PCT_ENCODED,E).toLowerCase().replace(c.NOT_HOST,M).replace(c.PCT_ENCODED,h)),void 0!==$.path&&($.path=String($.path).replace(c.PCT_ENCODED,E).replace($.scheme?c.NOT_PATH:c.NOT_PATH_NOSCHEME,M).replace(c.PCT_ENCODED,h)),void 0!==$.query&&($.query=String($.query).replace(c.PCT_ENCODED,E).replace(c.NOT_QUERY,M).replace(c.PCT_ENCODED,h)),void 0!==$.fragment&&($.fragment=String($.fragment).replace(c.PCT_ENCODED,E).replace(c.NOT_FRAGMENT,M).replace(c.PCT_ENCODED,h)),$}function ne($){return $.replace(/^0*(.*)/,"$1")||"0"}function Ee($,c){var E=$.match(c.IPV4ADDRESS)||[],F=_(E,2)[1];return F?F.split(".").map(ne).join("."):$}function Se($,c){var E=$.match(c.IPV6ADDRESS)||[],D=_(E,3),F=D[1],q=D[2];if(F){for(var ae=F.toLowerCase().split("::").reverse(),se=_(ae,2),ue=se[0],_e=se[1],oe=_e?_e.split(":").map(ne):[],ge=ue.split(":").map(ne),we=c.IPV4ADDRESS.test(ge[ge.length-1]),he=we?7:8,ie=ge.length-he,ye=Array(he),le=0;le<he;++le)ye[le]=oe[le]||ge[ie+le]||"";we&&(ye[he-1]=Ee(ye[he-1],c));var Ce=ye.reduce(function(Ie,Re,ze){if(!Re||"0"===Re){var je=Ie[Ie.length-1];je&&je.index+je.length===ze?je.length++:Ie.push({index:ze,length:1})}return Ie},[]).sort(function(Ie,Re){return Re.length-Ie.length})[0],Te=void 0;if(Ce&&Ce.length>1){var de=ye.slice(0,Ce.index),Ne=ye.slice(Ce.index+Ce.length);Te=de.join(":")+"::"+Ne.join(":")}else Te=ye.join(":");return q&&(Te+="%"+q),Te}return $}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,j=void 0==="".match(/(){0}/)[1];function V($){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E={},D=!1!==c.iri?e:s;"suffix"===c.reference&&($=(c.scheme?c.scheme+":":"")+"//"+$);var F=$.match(R);if(F){j?(E.scheme=F[1],E.userinfo=F[3],E.host=F[4],E.port=parseInt(F[5],10),E.path=F[6]||"",E.query=F[7],E.fragment=F[8],isNaN(E.port)&&(E.port=F[5])):(E.scheme=F[1]||void 0,E.userinfo=-1!==$.indexOf("@")?F[3]:void 0,E.host=-1!==$.indexOf("//")?F[4]:void 0,E.port=parseInt(F[5],10),E.path=F[6]||"",E.query=-1!==$.indexOf("?")?F[7]:void 0,E.fragment=-1!==$.indexOf("#")?F[8]:void 0,isNaN(E.port)&&(E.port=$.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?F[4]:void 0)),E.host&&(E.host=Se(Ee(E.host,D),D)),E.reference=void 0!==E.scheme||void 0!==E.userinfo||void 0!==E.host||void 0!==E.port||E.path||void 0!==E.query?void 0===E.scheme?"relative":void 0===E.fragment?"absolute":"uri":"same-document",c.reference&&"suffix"!==c.reference&&c.reference!==E.reference&&(E.error=E.error||"URI is not a "+c.reference+" reference.");var q=f[(c.scheme||E.scheme||"").toLowerCase()];if(c.unicodeSupport||q&&q.unicodeSupport)x(E,D);else{if(E.host&&(c.domainHost||q&&q.domainHost))try{E.host=a.toASCII(E.host.replace(D.PCT_ENCODED,J).toLowerCase())}catch(ae){E.error=E.error||"Host's domain name can not be converted to ASCII via punycode: "+ae}x(E,s)}q&&q.parse&&q.parse(E,c)}else E.error=E.error||"URI can not be parsed.";return E}var Z=/^\.\.?\//,te=/^\/\.(\/|$)/,pe=/^\/\.\.(\/|$)/,Oe=/^\/?(?:.|\n)*?(?=\/|$)/;function ve($){for(var c=[];$.length;)if($.match(Z))$=$.replace(Z,"");else if($.match(te))$=$.replace(te,"/");else if($.match(pe))$=$.replace(pe,"/"),c.pop();else if("."===$||".."===$)$="";else{var E=$.match(Oe);if(!E)throw new Error("Unexpected dot segment condition");var D=E[0];$=$.slice(D.length),c.push(D)}return c.join("")}function me($){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=c.iri?e:s,D=[],F=f[(c.scheme||$.scheme||"").toLowerCase()];if(F&&F.serialize&&F.serialize($,c),$.host&&!E.IPV6ADDRESS.test($.host)&&(c.domainHost||F&&F.domainHost))try{$.host=c.iri?a.toUnicode($.host):a.toASCII($.host.replace(E.PCT_ENCODED,J).toLowerCase())}catch(se){$.error=$.error||"Host's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+se}x($,E),"suffix"!==c.reference&&$.scheme&&(D.push($.scheme),D.push(":"));var q=function G($,c){var E=!1!==c.iri?e:s,D=[];return void 0!==$.userinfo&&(D.push($.userinfo),D.push("@")),void 0!==$.host&&D.push(Se(Ee(String($.host),E),E).replace(E.IPV6ADDRESS,function(F,q,ae){return"["+q+(ae?"%25"+ae:"")+"]"})),("number"==typeof $.port||"string"==typeof $.port)&&(D.push(":"),D.push(String($.port))),D.length?D.join(""):void 0}($,c);if(void 0!==q&&("suffix"!==c.reference&&D.push("//"),D.push(q),$.path&&"/"!==$.path.charAt(0)&&D.push("/")),void 0!==$.path){var ae=$.path;!c.absolutePath&&(!F||!F.absolutePath)&&(ae=ve(ae)),void 0===q&&(ae=ae.replace(/^\/\//,"/%2F")),D.push(ae)}return void 0!==$.query&&(D.push("?"),D.push($.query)),void 0!==$.fragment&&(D.push("#"),D.push($.fragment)),D.join("")}function $e($,c){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},F={};return arguments[3]||($=V(me($,E),E),c=V(me(c,E),E)),!(E=E||{}).tolerant&&c.scheme?(F.scheme=c.scheme,F.userinfo=c.userinfo,F.host=c.host,F.port=c.port,F.path=ve(c.path||""),F.query=c.query):(void 0!==c.userinfo||void 0!==c.host||void 0!==c.port?(F.userinfo=c.userinfo,F.host=c.host,F.port=c.port,F.path=ve(c.path||""),F.query=c.query):(c.path?("/"===c.path.charAt(0)?F.path=ve(c.path):(F.path=void 0===$.userinfo&&void 0===$.host&&void 0===$.port||$.path?$.path?$.path.slice(0,$.path.lastIndexOf("/")+1)+c.path:c.path:"/"+c.path,F.path=ve(F.path)),F.query=c.query):(F.path=$.path,F.query=void 0!==c.query?c.query:$.query),F.userinfo=$.userinfo,F.host=$.host,F.port=$.port),F.scheme=$.scheme),F.fragment=c.fragment,F}function be($,c){return $&&$.toString().replace(c&&c.iri?e.PCT_ENCODED:s.PCT_ENCODED,J)}var Me={scheme:"http",domainHost:!0,parse:function(c,E){return c.host||(c.error=c.error||"HTTP URIs must have a host."),c},serialize:function(c,E){var D="https"===String(c.scheme).toLowerCase();return(c.port===(D?443:80)||""===c.port)&&(c.port=void 0),c.path||(c.path="/"),c}},Xe={scheme:"https",domainHost:Me.domainHost,parse:Me.parse,serialize:Me.serialize};function qe($){return"boolean"==typeof $.secure?$.secure:"wss"===String($.scheme).toLowerCase()}var Ue={scheme:"ws",domainHost:!0,parse:function(c,E){var D=c;return D.secure=qe(D),D.resourceName=(D.path||"/")+(D.query?"?"+D.query:""),D.path=void 0,D.query=void 0,D},serialize:function(c,E){if((c.port===(qe(c)?443:80)||""===c.port)&&(c.port=void 0),"boolean"==typeof c.secure&&(c.scheme=c.secure?"wss":"ws",c.secure=void 0),c.resourceName){var D=c.resourceName.split("?"),F=_(D,2),q=F[0],ae=F[1];c.path=q&&"/"!==q?q:void 0,c.query=ae,c.resourceName=void 0}return c.fragment=void 0,c}},lt={scheme:"wss",domainHost:Ue.domainHost,parse:Ue.parse,serialize:Ue.serialize},_t={},dt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ae="[0-9A-Fa-f]",Et=n(n("%[EFef]"+Ae+"%"+Ae+Ae+"%"+Ae+Ae)+"|"+n("%[89A-Fa-f]"+Ae+"%"+Ae+Ae)+"|"+n("%"+Ae+Ae)),Pt=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Ct=new RegExp(dt,"g"),Ke=new RegExp(Et,"g"),Nt=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Pt),"g"),ft=new RegExp(r("[^]",dt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Tt=ft;function it($){var c=J($);return c.match(Ct)?c:$}var mt={scheme:"mailto",parse:function(c,E){var D=c,F=D.to=D.path?D.path.split(","):[];if(D.path=void 0,D.query){for(var q=!1,ae={},se=D.query.split("&"),ue=0,_e=se.length;ue<_e;++ue){var oe=se[ue].split("=");switch(oe[0]){case"to":for(var ge=oe[1].split(","),we=0,he=ge.length;we<he;++we)F.push(ge[we]);break;case"subject":D.subject=be(oe[1],E);break;case"body":D.body=be(oe[1],E);break;default:q=!0,ae[be(oe[0],E)]=be(oe[1],E)}}q&&(D.headers=ae)}D.query=void 0;for(var ie=0,ye=F.length;ie<ye;++ie){var le=F[ie].split("@");if(le[0]=be(le[0]),E.unicodeSupport)le[1]=be(le[1],E).toLowerCase();else try{le[1]=a.toASCII(be(le[1],E).toLowerCase())}catch(Ve){D.error=D.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ve}F[ie]=le.join("@")}return D},serialize:function(c,E){var D=c,F=function b($){return null!=$?$ instanceof Array?$:"number"!=typeof $.length||$.split||$.setInterval||$.call?[$]:Array.prototype.slice.call($):[]}(c.to);if(F){for(var q=0,ae=F.length;q<ae;++q){var se=String(F[q]),ue=se.lastIndexOf("@"),_e=se.slice(0,ue).replace(Ke,it).replace(Ke,h).replace(Nt,M),oe=se.slice(ue+1);try{oe=E.iri?a.toUnicode(oe):a.toASCII(be(oe,E).toLowerCase())}catch(ie){D.error=D.error||"Email address's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+ie}F[q]=_e+"@"+oe}D.path=F.join(",")}var ge=c.headers=c.headers||{};c.subject&&(ge.subject=c.subject),c.body&&(ge.body=c.body);var we=[];for(var he in ge)ge[he]!==_t[he]&&we.push(he.replace(Ke,it).replace(Ke,h).replace(ft,M)+"="+ge[he].replace(Ke,it).replace(Ke,h).replace(Tt,M));return we.length&&(D.query=we.join("&")),D}},It=/^([^\:]+)\:(.*)/,ht={scheme:"urn",parse:function(c,E){var D=c.path&&c.path.match(It),F=c;if(D){var q=E.scheme||F.scheme||"urn",ae=D[1].toLowerCase(),se=D[2],_e=f[q+":"+(E.nid||ae)];F.nid=ae,F.nss=se,F.path=void 0,_e&&(F=_e.parse(F,E))}else F.error=F.error||"URN can not be parsed.";return F},serialize:function(c,E){var F=c.nid,ae=f[(E.scheme||c.scheme||"urn")+":"+(E.nid||F)];ae&&(c=ae.serialize(c,E));var se=c;return se.path=(F||E.nid)+":"+c.nss,se}},At=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,pt={scheme:"urn:uuid",parse:function(c,E){var D=c;return D.uuid=D.nss,D.nss=void 0,!E.tolerant&&(!D.uuid||!D.uuid.match(At))&&(D.error=D.error||"UUID is not valid."),D},serialize:function(c,E){var D=c;return D.nss=(c.uuid||"").toLowerCase(),D}};f[Me.scheme]=Me,f[Xe.scheme]=Xe,f[Ue.scheme]=Ue,f[lt.scheme]=lt,f[mt.scheme]=mt,f[ht.scheme]=ht,f[pt.scheme]=pt,o.SCHEMES=f,o.pctEncChar=M,o.pctDecChars=J,o.parse=V,o.removeDotSegments=ve,o.serialize=me,o.resolveComponents=$e,o.resolve=function Fe($,c,E){var D=function i($,c){var E=$;if(c)for(var D in c)E[D]=c[D];return E}({scheme:"null"},E);return me($e(V($,D),V(c,D),D,!0),D)},o.normalize=function Pe($,c){return"string"==typeof $?$=me(V($,c),c):"object"===y($)&&($=V(me($,c),c)),$},o.equal=function Ye($,c,E){return"string"==typeof $?$=me(V($,E),E):"object"===y($)&&($=me($,E)),"string"==typeof c?c=me(V(c,E),E):"object"===y(c)&&(c=me(c,E)),$===c},o.escapeComponent=function We($,c){return $&&$.toString().replace(c&&c.iri?e.ESCAPE:s.ESCAPE,M)},o.unescapeComponent=be,Object.defineProperty(o,"__esModule",{value:!0})}(t)},7156:Y=>{function t(r,n,y,h,b,i,m){try{var s=r[i](m),e=s.value}catch(_){return void y(_)}s.done?n(e):Promise.resolve(e).then(h,b)}Y.exports=function o(r){return function(){var n=this,y=arguments;return new Promise(function(h,b){var i=r.apply(n,y);function m(e){t(i,h,b,m,s,"next",e)}function s(e){t(i,h,b,m,s,"throw",e)}m(void 0)})}},Y.exports.__esModule=!0,Y.exports.default=Y.exports},4775:Y=>{"use strict";Y.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:Y=>{"use strict";Y.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);